<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Universal Human Interface - For Everyone</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            overflow: hidden;
            color: white;
        }
        
        #main-interface {
            position: relative;
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
        
        #voice-indicator {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 300px;
            height: 300px;
            border-radius: 50%;
            background: radial-gradient(circle, #ffffff20, #ffffff05);
            border: 3px solid #ffffff40;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 50px #ffffff20;
        }
        
        #voice-indicator.listening {
            animation: pulse 1s infinite;
            background: radial-gradient(circle, #00ff0020, #00ff0005);
            border-color: #00ff00;
            box-shadow: 0 0 100px #00ff0040;
        }
        
        #voice-indicator.thinking {
            animation: thinking 1.5s infinite;
            background: radial-gradient(circle, #ffaa0020, #ffaa0005);
            border-color: #ffaa00;
        }
        
        #voice-indicator.responding {
            animation: responding 0.8s infinite;
            background: radial-gradient(circle, #ff004020, #ff004005);
            border-color: #ff0040;
        }
        
        @keyframes pulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); }
            50% { transform: translate(-50%, -50%) scale(1.1); }
        }
        
        @keyframes thinking {
            0%, 100% { transform: translate(-50%, -50%) rotate(0deg); }
            33% { transform: translate(-50%, -50%) rotate(120deg); }
            66% { transform: translate(-50%, -50%) rotate(240deg); }
        }
        
        @keyframes responding {
            0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
            50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.8; }
        }
        
        #voice-content {
            text-align: center;
            font-size: 72px;
            margin-bottom: 20px;
        }
        
        #voice-text {
            font-size: 24px;
            font-weight: 600;
            line-height: 1.4;
            max-width: 250px;
            text-align: center;
        }
        
        #simple-instructions {
            position: absolute;
            top: 50px;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
            font-size: 28px;
            font-weight: 300;
            max-width: 800px;
            line-height: 1.5;
        }
        
        #what-you-heard {
            position: absolute;
            bottom: 200px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(0, 0, 0, 0.3);
            padding: 20px 40px;
            border-radius: 25px;
            text-align: center;
            min-width: 400px;
            font-size: 18px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        #what-you-heard.show {
            opacity: 1;
        }
        
        #response-area {
            position: absolute;
            bottom: 50px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            max-width: 600px;
            font-size: 20px;
            line-height: 1.4;
            opacity: 0;
            transition: opacity 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        #response-area.show {
            opacity: 1;
        }
        
        .simple-buttons {
            position: absolute;
            top: 150px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
            justify-content: center;
            max-width: 800px;
        }
        
        .simple-button {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: white;
            font-size: 18px;
            font-weight: 600;
            padding: 15px 30px;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .simple-button:hover {
            background: rgba(255, 255, 255, 0.3);
            border-color: rgba(255, 255, 255, 0.5);
            transform: scale(1.05);
        }
        
        .simple-button:active {
            transform: scale(0.95);
        }
        
        #age-indicator {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.3);
            padding: 10px 20px;
            border-radius: 20px;
            font-size: 14px;
        }
        
        .floating-emoji {
            position: absolute;
            font-size: 40px;
            pointer-events: none;
            animation: float 3s ease-in-out infinite;
            opacity: 0.7;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        .success-celebration {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 100px;
            z-index: 1000;
            animation: celebrate 2s ease-out;
            pointer-events: none;
        }
        
        @keyframes celebrate {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
            50% { transform: translate(-50%, -50%) scale(1.2); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 0; }
        }
    </style>
</head>
<body>
    <div id="main-interface">
        <!-- Simple Instructions -->
        <div id="simple-instructions">
            Just talk to me like I'm your friend. Say anything you need.
        </div>
        
        <!-- Simple Buttons for Non-Voice Users -->
        <div class="simple-buttons">
            <button class="simple-button" onclick="handleSimpleRequest('I need money')">ðŸ’° I Need Money</button>
            <button class="simple-button" onclick="handleSimpleRequest('Build me something')">ðŸ”¨ Build Something</button>
            <button class="simple-button" onclick="handleSimpleRequest('Help me learn')">ðŸ“š Help Me Learn</button>
            <button class="simple-button" onclick="handleSimpleRequest('I want to talk')">ðŸ’¬ Just Talk</button>
        </div>
        
        <!-- Main Voice Interface -->
        <div id="voice-indicator" onclick="toggleListening()">
            <div>
                <div id="voice-content">ðŸŽ¤</div>
                <div id="voice-text">Tap to talk<br>or just speak</div>
            </div>
        </div>
        
        <!-- What We Heard -->
        <div id="what-you-heard">
            <div id="heard-text"></div>
        </div>
        
        <!-- Response Area -->
        <div id="response-area">
            <div id="response-text"></div>
        </div>
        
        <!-- Age Indicator -->
        <div id="age-indicator">
            Universal Interface - Works for everyone
        </div>
    </div>

    <script>
        // ============================================
        // UNIVERSAL HUMAN INTERFACE ENGINE
        // ============================================
        
        class UniversalHumanInterface {
            constructor() {
                this.isListening = false;
                this.recognition = null;
                this.synthesis = window.speechSynthesis;
                this.currentState = 'ready'; // ready, listening, thinking, responding
                
                // Simple response patterns for universal understanding
                this.responsePatterns = new Map([
                    // Money/Financial needs
                    ['money', {
                        keywords: ['money', 'cash', 'funding', 'grant', 'loan', 'pay', 'financial', 'rich', 'dollars'],
                        responses: [
                            "I'll help you find money! Let me search for grants and funding opportunities right now.",
                            "Money coming up! I'm looking for grants, business opportunities, and funding sources.",
                            "Let's get you some money! Searching for grants, loans, and financial opportunities."
                        ],
                        action: 'find_money',
                        emoji: 'ðŸ’°'
                    }],
                    
                    // Building/Creating needs
                    ['build', {
                        keywords: ['build', 'make', 'create', 'app', 'website', 'program', 'software', 'code'],
                        responses: [
                            "I'll build something amazing for you! What do you want to create?",
                            "Let's build it! I can make apps, websites, or any software you need.",
                            "Building time! Tell me what you want and I'll create it for you."
                        ],
                        action: 'build_something',
                        emoji: 'ðŸ”¨'
                    }],
                    
                    // Learning needs
                    ['learn', {
                        keywords: ['learn', 'teach', 'study', 'education', 'school', 'understand', 'explain', 'help'],
                        responses: [
                            "I love teaching! What would you like to learn about?",
                            "Let's learn together! I can teach you anything you're curious about.",
                            "Learning is fun! What subject interests you?"
                        ],
                        action: 'teach_something',
                        emoji: 'ðŸ“š'
                    }],
                    
                    // Social/Conversation needs
                    ['talk', {
                        keywords: ['talk', 'chat', 'conversation', 'friend', 'hello', 'hi', 'lonely', 'bored'],
                        responses: [
                            "I'm here to chat! What's on your mind?",
                            "I love talking with people! How are you feeling today?",
                            "Let's have a conversation! What would you like to talk about?"
                        ],
                        action: 'have_conversation',
                        emoji: 'ðŸ’¬'
                    }],
                    
                    // Problem solving
                    ['problem', {
                        keywords: ['problem', 'issue', 'stuck', 'broken', 'fix', 'trouble', 'error', 'bug'],
                        responses: [
                            "I'm here to help solve problems! Tell me what's wrong.",
                            "Let's fix this together! What problem are you facing?",
                            "Problem-solving mode activated! How can I help?"
                        ],
                        action: 'solve_problem',
                        emoji: 'ðŸ”§'
                    }],
                    
                    // Health/Wellness
                    ['health', {
                        keywords: ['tired', 'sick', 'health', 'doctor', 'medicine', 'exercise', 'wellness'],
                        responses: [
                            "Your health is important! While I can't replace a doctor, I can help you find resources.",
                            "Take care of yourself! I can help you find health information and resources.",
                            "Health matters! Let me help you find the right information or resources."
                        ],
                        action: 'health_support',
                        emoji: 'ðŸ¥'
                    }],
                    
                    // Default/Unclear
                    ['unclear', {
                        keywords: [],
                        responses: [
                            "I want to help! Can you tell me more about what you need?",
                            "I'm here for you! What would make your day better?",
                            "Let's figure this out together! What's the most important thing you need right now?"
                        ],
                        action: 'clarify_need',
                        emoji: 'ðŸ¤”'
                    }]
                ]);
                
                this.init();
            }
            
            init() {
                console.log('ðŸŒ Universal Human Interface starting...');
                
                // Initialize speech recognition
                this.initializeSpeechRecognition();
                
                // Start auto-listening
                this.startAutoListening();
                
                // Add some floating emojis for friendliness
                this.addFloatingEmojis();
                
                console.log('âœ… Ready for everyone from 5 to 80!');
            }
            
            initializeSpeechRecognition() {
                if ('webkitSpeechRecognition' in window || 'SpeechRecognition' in window) {
                    const SpeechRecognition = window.SpeechRecognition || window.webkitSpeechRecognition;
                    this.recognition = new SpeechRecognition();
                    
                    this.recognition.continuous = true;
                    this.recognition.interimResults = true;
                    this.recognition.lang = 'en-US';
                    
                    this.recognition.onstart = () => {
                        this.updateState('listening');
                    };
                    
                    this.recognition.onresult = (event) => {
                        let finalTranscript = '';
                        
                        for (let i = event.resultIndex; i < event.results.length; i++) {
                            if (event.results[i].isFinal) {
                                finalTranscript += event.results[i][0].transcript;
                            }
                        }
                        
                        if (finalTranscript.trim()) {
                            this.processUserInput(finalTranscript.trim());
                        }
                    };
                    
                    this.recognition.onerror = (event) => {
                        console.log('Speech recognition error:', event.error);
                        this.updateState('ready');
                    };
                    
                    this.recognition.onend = () => {
                        if (this.isListening) {
                            // Restart listening
                            setTimeout(() => {
                                this.recognition.start();
                            }, 100);
                        }
                    };
                    
                } else {
                    console.log('Speech recognition not supported');
                    document.getElementById('voice-text').textContent = 'Use the buttons below';
                }
            }
            
            startAutoListening() {
                // Start listening automatically
                this.isListening = true;
                if (this.recognition) {
                    this.recognition.start();
                }
            }
            
            updateState(newState) {
                this.currentState = newState;
                const indicator = document.getElementById('voice-indicator');
                const content = document.getElementById('voice-content');
                const text = document.getElementById('voice-text');
                
                // Remove all state classes
                indicator.className = '';
                
                switch (newState) {
                    case 'listening':
                        indicator.classList.add('listening');
                        content.textContent = 'ðŸ‘‚';
                        text.textContent = 'I\'m listening...';
                        break;
                        
                    case 'thinking':
                        indicator.classList.add('thinking');
                        content.textContent = 'ðŸ¤”';
                        text.textContent = 'Thinking...';
                        break;
                        
                    case 'responding':
                        indicator.classList.add('responding');
                        content.textContent = 'ðŸ’¬';
                        text.textContent = 'Responding...';
                        break;
                        
                    default: // ready
                        content.textContent = 'ðŸŽ¤';
                        text.textContent = 'Tap to talk<br>or just speak';
                        break;
                }
            }
            
            processUserInput(input) {
                console.log('User said:', input);
                
                // Show what we heard
                this.showWhatWeHeard(input);
                
                // Update state to thinking
                this.updateState('thinking');
                
                // Process the input
                setTimeout(() => {
                    const response = this.generateResponse(input);
                    this.deliverResponse(response);
                }, 1000);
            }
            
            showWhatWeHeard(text) {
                const heardElement = document.getElementById('what-you-heard');
                const heardText = document.getElementById('heard-text');
                
                heardText.textContent = `You said: "${text}"`;
                heardElement.classList.add('show');
                
                setTimeout(() => {
                    heardElement.classList.remove('show');
                }, 4000);
            }
            
            generateResponse(input) {
                const lowerInput = input.toLowerCase();
                
                // Find the best matching pattern
                let bestMatch = this.responsePatterns.get('unclear');
                let highestScore = 0;
                
                for (const [category, pattern] of this.responsePatterns) {
                    if (category === 'unclear') continue;
                    
                    let score = 0;
                    pattern.keywords.forEach(keyword => {
                        if (lowerInput.includes(keyword)) {
                            score += keyword.length; // Longer keywords score higher
                        }
                    });
                    
                    if (score > highestScore) {
                        highestScore = score;
                        bestMatch = pattern;
                    }
                }
                
                // Select a random response from the matched pattern
                const responseText = bestMatch.responses[
                    Math.floor(Math.random() * bestMatch.responses.length)
                ];
                
                return {
                    text: responseText,
                    action: bestMatch.action,
                    emoji: bestMatch.emoji
                };
            }
            
            deliverResponse(response) {
                this.updateState('responding');
                
                // Show the response
                this.showResponse(response);
                
                // Speak the response
                this.speakResponse(response.text);
                
                // Execute the action
                this.executeAction(response.action);
                
                // Show celebration emoji
                this.celebrate(response.emoji);
                
                // Return to ready state
                setTimeout(() => {
                    this.updateState('ready');
                }, 3000);
            }
            
            showResponse(response) {
                const responseArea = document.getElementById('response-area');
                const responseText = document.getElementById('response-text');
                
                responseText.innerHTML = `${response.emoji} ${response.text}`;
                responseArea.classList.add('show');
                
                setTimeout(() => {
                    responseArea.classList.remove('show');
                }, 6000);
            }
            
            speakResponse(text) {
                if (this.synthesis) {
                    // Cancel any ongoing speech
                    this.synthesis.cancel();
                    
                    const utterance = new SpeechSynthesisUtterance(text);
                    utterance.rate = 0.9;
                    utterance.pitch = 1.1;
                    utterance.volume = 0.8;
                    
                    // Try to use a friendly voice
                    const voices = this.synthesis.getVoices();
                    const friendlyVoice = voices.find(voice => 
                        voice.name.includes('Female') || 
                        voice.name.includes('Samantha') ||
                        voice.name.includes('Alex')
                    );
                    
                    if (friendlyVoice) {
                        utterance.voice = friendlyVoice;
                    }
                    
                    this.synthesis.speak(utterance);
                }
            }
            
            executeAction(action) {
                console.log('Executing action:', action);
                
                switch (action) {
                    case 'find_money':
                        this.simulateFindingMoney();
                        break;
                    case 'build_something':
                        this.simulateBuilding();
                        break;
                    case 'teach_something':
                        this.simulateTeaching();
                        break;
                    case 'have_conversation':
                        this.simulateConversation();
                        break;
                    case 'solve_problem':
                        this.simulateProblemSolving();
                        break;
                    case 'health_support':
                        this.simulateHealthSupport();
                        break;
                    default:
                        console.log('Default action - clarifying needs');
                }
            }
            
            simulateFindingMoney() {
                console.log('ðŸ’° Finding money opportunities...');
                // This would connect to the grant scraper
                setTimeout(() => {
                    this.showQuickUpdate('Found 5 grant opportunities worth $2.3M total!');
                }, 2000);
            }
            
            simulateBuilding() {
                console.log('ðŸ”¨ Starting to build...');
                // This would activate the code wizard
                setTimeout(() => {
                    this.showQuickUpdate('Started building your app! Check back in a few minutes.');
                }, 2000);
            }
            
            simulateTeaching() {
                console.log('ðŸ“š Preparing to teach...');
                // This would activate the learning system
                setTimeout(() => {
                    this.showQuickUpdate('Learning mode activated! What subject interests you?');
                }, 2000);
            }
            
            simulateConversation() {
                console.log('ðŸ’¬ Conversation mode...');
                setTimeout(() => {
                    this.showQuickUpdate('I\'m here to chat! How was your day?');
                }, 2000);
            }
            
            simulateProblemSolving() {
                console.log('ðŸ”§ Problem solving mode...');
                setTimeout(() => {
                    this.showQuickUpdate('Let\'s solve this step by step. What exactly is the problem?');
                }, 2000);
            }
            
            simulateHealthSupport() {
                console.log('ðŸ¥ Health support mode...');
                setTimeout(() => {
                    this.showQuickUpdate('I care about your wellbeing. How can I help you feel better?');
                }, 2000);
            }
            
            showQuickUpdate(text) {
                const responseArea = document.getElementById('response-area');
                const responseText = document.getElementById('response-text');
                
                responseText.innerHTML = `âœ¨ ${text}`;
                responseArea.classList.add('show');
                
                setTimeout(() => {
                    responseArea.classList.remove('show');
                }, 4000);
            }
            
            celebrate(emoji) {
                const celebration = document.createElement('div');
                celebration.className = 'success-celebration';
                celebration.textContent = emoji;
                document.body.appendChild(celebration);
                
                setTimeout(() => {
                    celebration.remove();
                }, 2000);
            }
            
            addFloatingEmojis() {
                const emojis = ['ðŸ˜Š', 'ðŸŒŸ', 'ðŸ’', 'ðŸŽˆ', 'ðŸŒˆ', 'âœ¨'];
                
                emojis.forEach((emoji, i) => {
                    const element = document.createElement('div');
                    element.className = 'floating-emoji';
                    element.textContent = emoji;
                    element.style.left = Math.random() * 90 + 5 + '%';
                    element.style.top = Math.random() * 90 + 5 + '%';
                    element.style.animationDelay = i * 0.5 + 's';
                    
                    document.body.appendChild(element);
                });
            }
        }
        
        // ============================================
        // SIMPLE GLOBAL FUNCTIONS
        // ============================================
        
        let universalInterface;
        
        function toggleListening() {
            if (universalInterface.recognition) {
                if (universalInterface.isListening) {
                    universalInterface.recognition.stop();
                    universalInterface.isListening = false;
                    universalInterface.updateState('ready');
                } else {
                    universalInterface.isListening = true;
                    universalInterface.recognition.start();
                }
            }
        }
        
        function handleSimpleRequest(request) {
            console.log('Simple request:', request);
            universalInterface.processUserInput(request);
        }
        
        // ============================================
        // INITIALIZE
        // ============================================
        
        window.addEventListener('load', () => {
            universalInterface = new UniversalHumanInterface();
            
            // Add simple keyboard shortcuts
            document.addEventListener('keydown', (e) => {
                if (e.code === 'Space') {
                    e.preventDefault();
                    toggleListening();
                }
            });
        });
    </script>
</body>
</html>