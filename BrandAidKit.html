<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BrandAidKit - AI Brand Consultation Service</title>
    
    <!-- Master CSS - Unified Design System -->
    <link rel="stylesheet" href="styles/master.css">
    
    <!-- Custom Styles -->
    <style>
        /* Hero Background Pattern */
        .hero {
            background-color: var(--color-gray-50);
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, var(--color-primary) 0%, transparent 70%);
            opacity: 0.03;
            animation: rotate 60s linear infinite;
        }
        
        /* Form Enhancements */
        .consultation-form {
            max-width: 600px;
            margin: 0 auto;
        }
        
        /* Result Cards */
        .result-card {
            background: var(--color-white);
            border-radius: var(--radius-lg);
            padding: var(--space-6);
            box-shadow: var(--shadow-md);
            margin-bottom: var(--space-4);
            transition: transform var(--transition-base), box-shadow var(--transition-base);
        }
        
        .result-card:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .color-palette {
            display: flex;
            gap: var(--space-3);
            margin: var(--space-4) 0;
        }
        
        .color-swatch {
            width: 80px;
            height: 80px;
            border-radius: var(--radius-lg);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: var(--text-sm);
            font-weight: var(--font-medium);
            box-shadow: var(--shadow-md);
            transition: transform var(--transition-base);
        }
        
        .color-swatch:hover {
            transform: scale(1.05);
        }
        
        /* Loading State */
        .loading-container {
            text-align: center;
            padding: var(--space-12) 0;
        }
        
        .loading-text {
            margin-top: var(--space-4);
            color: var(--text-secondary);
        }
        
        /* Feature List */
        .feature-list {
            list-style: none;
            padding: 0;
            margin: var(--space-4) 0;
        }
        
        .feature-list li {
            display: flex;
            align-items: center;
            gap: var(--space-3);
            padding: var(--space-2) 0;
        }
        
        .feature-icon {
            width: 20px;
            height: 20px;
            background-color: var(--color-success);
            border-radius: var(--radius-full);
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .feature-icon::after {
            content: 'âœ“';
            color: white;
            font-size: var(--text-xs);
            font-weight: var(--font-bold);
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <nav class="nav">
                <a href="#" class="nav-brand">BrandAidKit</a>
                <ul class="nav-menu">
                    <li><a href="#" class="nav-link active">Brand Analysis</a></li>
                    <li><a href="#" class="nav-link">How It Works</a></li>
                    <li><a href="#" class="nav-link">Pricing</a></li>
                    <li><a href="#" class="nav-link">About</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h1 class="hero-title fade-in-up">Transform Your Idea Into a Brand</h1>
                <p class="hero-subtitle fade-in-up" style="animation-delay: 0.1s;">
                    AI-powered brand consultation that delivers professional identity, 
                    market analysis, and strategic recommendations in minutes
                </p>
            </div>
        </div>
    </section>

    <!-- Main Content -->
    <main class="page-content">
        <div class="container">
            <!-- Consultation Form -->
            <div class="consultation-form">
                <div class="card fade-in-up" style="animation-delay: 0.2s;">
                    <div class="card-body">
                        <form id="brandConsultationForm">
                            <div class="form-group">
                                <label for="businessIdea" class="form-label">Business Idea *</label>
                                <textarea 
                                    id="businessIdea" 
                                    name="businessIdea" 
                                    class="form-control" 
                                    rows="4"
                                    placeholder="Describe your business idea in detail..."
                                    required
                                ></textarea>
                            </div>

                            <div class="grid grid-cols-2 gap-4">
                                <div class="form-group">
                                    <label for="industry" class="form-label">Industry</label>
                                    <select id="industry" name="industry" class="form-control">
                                        <option value="">Select industry...</option>
                                        <option value="fintech">Fintech</option>
                                        <option value="healthcare">Healthcare</option>
                                        <option value="education">Education</option>
                                        <option value="gaming">Gaming</option>
                                        <option value="ecommerce">E-commerce</option>
                                        <option value="saas">SaaS</option>
                                        <option value="other">Other</option>
                                    </select>
                                </div>

                                <div class="form-group">
                                    <label for="targetAudience" class="form-label">Target Audience</label>
                                    <input 
                                        type="text" 
                                        id="targetAudience" 
                                        name="targetAudience" 
                                        class="form-control"
                                        placeholder="e.g., Small businesses, Gen Z consumers"
                                    >
                                </div>
                            </div>

                            <div class="grid grid-cols-2 gap-4">
                                <div class="form-group">
                                    <label for="companyName" class="form-label">Company Name (Optional)</label>
                                    <input 
                                        type="text" 
                                        id="companyName" 
                                        name="companyName" 
                                        class="form-control"
                                        placeholder="Leave blank for AI suggestions"
                                    >
                                </div>

                                <div class="form-group">
                                    <label for="brandPersonality" class="form-label">Brand Personality</label>
                                    <select id="brandPersonality" name="brandPersonality" class="form-control">
                                        <option value="professional">Professional</option>
                                        <option value="innovative">Innovative</option>
                                        <option value="playful">Playful</option>
                                        <option value="luxury">Luxury</option>
                                        <option value="minimalist">Minimalist</option>
                                        <option value="bold">Bold</option>
                                    </select>
                                </div>
                            </div>

                            <button type="submit" class="btn btn-primary btn-lg w-full" id="submitBtn">
                                Generate Brand Analysis
                            </button>
                        </form>
                    </div>
                </div>

                <!-- Loading State -->
                <div id="loadingDiv" class="loading-container" style="display: none;">
                    <div class="spinner spinner-lg"></div>
                    <p class="loading-text">AI is analyzing your business idea and creating your brand identity...</p>
                </div>

                <!-- Error State -->
                <div id="errorDiv" class="alert alert-danger" style="display: none;"></div>

                <!-- Results Section -->
                <div id="resultsDiv" style="display: none;">
                    <!-- Results will be populated here -->
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-bottom">
                <p>&copy; 2024 BrandAidKit. Professional brand consultation powered by AI.</p>
                <div class="flex gap-4">
                    <a href="#" class="footer-links">Privacy Policy</a>
                    <a href="#" class="footer-links">Terms of Service</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        document.getElementById('brandConsultationForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const submitBtn = document.getElementById('submitBtn');
            const loadingDiv = document.getElementById('loadingDiv');
            const errorDiv = document.getElementById('errorDiv');
            const resultsDiv = document.getElementById('resultsDiv');
            
            // Hide previous results/errors
            errorDiv.style.display = 'none';
            resultsDiv.style.display = 'none';
            
            // Show loading
            submitBtn.disabled = true;
            loadingDiv.style.display = 'block';
            
            try {
                const formData = {
                    businessIdea: document.getElementById('businessIdea').value,
                    industry: document.getElementById('industry').value,
                    targetAudience: document.getElementById('targetAudience').value,
                    companyName: document.getElementById('companyName').value,
                    brandPersonality: document.getElementById('brandPersonality').value
                };
                
                const response = await fetch('http://localhost:3001/api/v1/brand/analyze', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData)
                });
                
                const data = await response.json();
                
                if (data.success) {
                    displayResults(data.analysis);
                    resultsDiv.style.display = 'block';
                    
                    // Smooth scroll to results
                    resultsDiv.scrollIntoView({ behavior: 'smooth', block: 'start' });
                } else {
                    throw new Error(data.error || 'Analysis failed');
                }
                
            } catch (error) {
                console.error('Error:', error);
                errorDiv.textContent = error.message || 'Failed to generate brand analysis. Please try again.';
                errorDiv.style.display = 'block';
            } finally {
                submitBtn.disabled = false;
                loadingDiv.style.display = 'none';
            }
        });
        
        function displayResults(analysis) {
            const resultsDiv = document.getElementById('resultsDiv');
            
            resultsDiv.innerHTML = `
                <div class="section-header mb-8">
                    <h2 class="section-title">Your Brand Analysis</h2>
                </div>
                
                <!-- Brand Identity -->
                <div class="result-card fade-in-up">
                    <h3 class="text-2xl font-semibold mb-4">Brand Identity</h3>
                    <div class="grid gap-4">
                        <div>
                            <p class="text-sm text-secondary mb-1">Brand Name</p>
                            <p class="text-3xl font-bold text-primary">${analysis.brandName}</p>
                        </div>
                        <div>
                            <p class="text-sm text-secondary mb-1">Positioning Statement</p>
                            <p class="text-lg">${analysis.positioning}</p>
                        </div>
                    </div>
                </div>
                
                <!-- Brand Colors -->
                <div class="result-card fade-in-up" style="animation-delay: 0.1s;">
                    <h3 class="text-2xl font-semibold mb-4">Brand Colors</h3>
                    <div class="color-palette">
                        <div class="color-swatch" style="background-color: ${analysis.colors.primary}">
                            <span>Primary</span>
                            <span class="text-xs">${analysis.colors.primary}</span>
                        </div>
                        <div class="color-swatch" style="background-color: ${analysis.colors.secondary}">
                            <span>Secondary</span>
                            <span class="text-xs">${analysis.colors.secondary}</span>
                        </div>
                        <div class="color-swatch" style="background-color: ${analysis.colors.accent}">
                            <span>Accent</span>
                            <span class="text-xs">${analysis.colors.accent}</span>
                        </div>
                    </div>
                </div>
                
                <!-- Market Analysis -->
                <div class="result-card fade-in-up" style="animation-delay: 0.2s;">
                    <h3 class="text-2xl font-semibold mb-4">Market Analysis</h3>
                    <div class="grid grid-cols-3 gap-4">
                        <div class="text-center">
                            <p class="text-sm text-secondary mb-1">Market Size</p>
                            <p class="text-2xl font-bold text-primary">${analysis.marketAnalysis.size}</p>
                        </div>
                        <div class="text-center">
                            <p class="text-sm text-secondary mb-1">Competition</p>
                            <p class="text-2xl font-bold">${analysis.marketAnalysis.competition}</p>
                        </div>
                        <div class="text-center">
                            <p class="text-sm text-secondary mb-1">Opportunity</p>
                            <p class="text-2xl font-bold text-success">${analysis.marketAnalysis.opportunity}</p>
                        </div>
                    </div>
                </div>
                
                <!-- Suggested Features -->
                <div class="result-card fade-in-up" style="animation-delay: 0.3s;">
                    <h3 class="text-2xl font-semibold mb-4">Key Features</h3>
                    <ul class="feature-list">
                        ${analysis.features.map(feature => `
                            <li>
                                <span class="feature-icon"></span>
                                <span>${feature}</span>
                            </li>
                        `).join('')}
                    </ul>
                </div>
                
                <!-- Domain Suggestions -->
                <div class="result-card fade-in-up" style="animation-delay: 0.4s;">
                    <h3 class="text-2xl font-semibold mb-4">Domain Suggestions</h3>
                    <div class="flex flex-wrap gap-3">
                        ${analysis.domains.map(domain => `
                            <span class="badge badge-primary">${domain}</span>
                        `).join('')}
                    </div>
                </div>
                
                <!-- Next Steps -->
                <div class="result-card fade-in-up" style="animation-delay: 0.5s;">
                    <h3 class="text-2xl font-semibold mb-4">Next Steps</h3>
                    <div class="space-y-3">
                        ${analysis.nextSteps.map((step, index) => `
                            <div class="flex gap-3">
                                <span class="flex-shrink-0 w-8 h-8 bg-primary text-white rounded-full flex items-center justify-center font-medium">
                                    ${index + 1}
                                </span>
                                <p>${step}</p>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `;
        }
    </script>
    
    <!-- Theme Toggle -->
    <script src="styles/theme-toggle.js"></script>
</body>
</html>