#!/bin/bash

# üëÅÔ∏èüìÑüéÆ LAUNCH CONTRACT VISION VIBE SYSTEM
# ==========================================
# Eye scans contracts ‚Üí Boss worlds ‚Üí Interactive vibe casting platform

echo "üëÅÔ∏èüìÑüéÆ CONTRACT VISION VIBE SYSTEM"
echo "=================================="
echo ""
echo "üéØ Revolutionary Platform Concept:"
echo "   ‚Ä¢ Eye scans any contract document"
echo "   ‚Ä¢ Automatically generates boss world from contract"
echo "   ‚Ä¢ Interactive vibe casting with live audience"
echo "   ‚Ä¢ Real-time boss battles against predatory terms"
echo "   ‚Ä¢ Community-driven contract roasting sessions"
echo ""

# Check if port 8888 is available
if lsof -Pi :8888 -sTCP:LISTEN -t >/dev/null ; then
    echo "‚ö†Ô∏è  Port 8888 is already in use. Using alternative port 8889..."
    sed -i '' 's/this.port = 8888/this.port = 8889/g' contract-vision-vibe-system.js 2>/dev/null || sed -i 's/this.port = 8888/this.port = 8889/g' contract-vision-vibe-system.js
    PORT=8889
else
    PORT=8888
fi

echo "üëÅÔ∏è CONTRACT SCANNING FEATURES:"
echo "   ‚Ä¢ AI-powered contract analysis"
echo "   ‚Ä¢ Evil level assessment (1-10 scale)"
echo "   ‚Ä¢ Power imbalance detection"
echo "   ‚Ä¢ Clause risk identification"
echo "   ‚Ä¢ Automatic boss type classification"
echo ""

echo "üèóÔ∏è BOSS WORLD GENERATION:"
echo "   ‚Ä¢ Corporate Overlord (Employment contracts)"
echo "   ‚Ä¢ Landlord Dragon (Rental leases)"
echo "   ‚Ä¢ Platform Titan (Terms of Service)"
echo "   ‚Ä¢ Debt Demon (Loan agreements)"
echo "   ‚Ä¢ Data Harvester (Privacy policies)"
echo "   ‚Ä¢ Claim Crusher (Insurance policies)"
echo "   ‚Ä¢ Code Tyrant (Software licenses)"
echo ""

echo "üéÆ INTERACTIVE BOSS BATTLES:"
echo "   ‚Ä¢ Negotiate: Attempt to improve terms (60% success)"
echo "   ‚Ä¢ Challenge: Direct confrontation (40% success)"
echo "   ‚Ä¢ Lawyer Up: Legal protection shield (80% success)"
echo "   ‚Ä¢ Find Loophole: Exploit contract weaknesses (70% success)"
echo "   ‚Ä¢ Public Shame: Viral social media damage (50% success)"
echo "   ‚Ä¢ Union Organize: Collective action power (90% success)"
echo ""

echo "üì∫ VIBE CASTING PLATFORM:"
echo "   ‚Ä¢ Live audience participation"
echo "   ‚Ä¢ Real-time chat and reactions"
echo "   ‚Ä¢ Crowd-sourced legal advice"
echo "   ‚Ä¢ Viral moment amplification"
echo "   ‚Ä¢ Educational contract breakdowns"
echo ""

echo "üé≠ VIBE SESSION TYPES:"
echo "   ‚Ä¢ Contract Roast Sessions"
echo "   ‚Ä¢ Boss Battle Arenas"
echo "   ‚Ä¢ Legal Comedy Hours"
echo "   ‚Ä¢ Terms Breakdown Theater"
echo "   ‚Ä¢ Corporate Horror Experiences"
echo "   ‚Ä¢ Educational Legal Streams"
echo ""

echo "üî• AUDIENCE FEATURES:"
echo "   ‚Ä¢ Live viewer count"
echo "   ‚Ä¢ Real-time chat reactions"
echo "   ‚Ä¢ Audience polling for strategies"
echo "   ‚Ä¢ Vibe boost multipliers"
echo "   ‚Ä¢ Community contract submissions"
echo ""

echo "üöÄ Launching Contract Vision Vibe System..."
node contract-vision-vibe-system.js &
VIBE_PID=$!

# Wait for startup
sleep 3

# Check if system started successfully
if ps -p $VIBE_PID > /dev/null; then
    echo ""
    echo "‚úÖ Contract Vision Vibe System started successfully!"
    echo ""
    echo "üëÅÔ∏è VIBE PLATFORM: http://localhost:$PORT"
    echo ""
    echo "üéØ PLATFORM LAYOUT:"
    echo "   ‚Ä¢ Left Panel: Contract Scanner & Boss Worlds"
    echo "   ‚Ä¢ Center Stage: Live Boss Battle Arena"
    echo "   ‚Ä¢ Right Panel: Audience Chat & Vibe Rooms"
    echo ""
    echo "üìÑ CONTRACT SCANNING PROCESS:"
    echo "   1. Upload any contract document"
    echo "   2. Eye analyzes terms and clauses"
    echo "   3. AI generates boss entity from contract"
    echo "   4. Boss world environment created"
    echo "   5. Live vibe room opened for battles"
    echo ""
    echo "üéÆ BOSS BATTLE MECHANICS:"
    echo "   ‚Ä¢ Each boss has unique abilities based on contract type"
    echo "   ‚Ä¢ Player actions have cooldowns and success rates"
    echo "   ‚Ä¢ Audience reactions provide vibe boosts"
    echo "   ‚Ä¢ Boss health decreases with successful actions"
    echo "   ‚Ä¢ Victory nullifies predatory contract terms"
    echo ""
    echo "üìä SAMPLE BOSS WORLDS LOADED:"
    echo "   ‚Ä¢ EvilCorp Platform Titan (Power: 95%)"
    echo "   ‚Ä¢ Slumlord Landlord Dragon (Power: 80%)"
    echo "   ‚Ä¢ Predatory Debt Demon (Power: 100%)"
    echo ""
    echo "üé≠ VIBE CASTING FEATURES:"
    echo "   ‚Ä¢ Live audience participation"
    echo "   ‚Ä¢ Real-time strategy suggestions"
    echo "   ‚Ä¢ Community contract analysis"
    echo "   ‚Ä¢ Educational legal breakdowns"
    echo "   ‚Ä¢ Viral moment amplification"
    echo ""
    echo "üí° INTERACTION EXAMPLES:"
    echo "   ‚Ä¢ Negotiate with Corporate Overlord about overtime"
    echo "   ‚Ä¢ Find loopholes in predatory loan terms"
    echo "   ‚Ä¢ Organize union against platform exploitation"
    echo "   ‚Ä¢ Public shame landlord for illegal clauses"
    echo "   ‚Ä¢ Lawyer up against privacy violations"
    echo ""
    echo "üîÑ REAL-TIME FEATURES:"
    echo "   ‚Ä¢ Live boss health bars"
    echo "   ‚Ä¢ Audience reaction counters"
    echo "   ‚Ä¢ Dynamic vibe effects"
    echo "   ‚Ä¢ Auto-generated crowd comments"
    echo "   ‚Ä¢ Victory celebration animations"
    echo ""
    
    # Try to open browser
    if command -v open >/dev/null 2>&1; then
        echo "üåê Opening contract vision vibe platform..."
        open http://localhost:$PORT
    elif command -v xdg-open >/dev/null 2>&1; then
        echo "üåê Opening contract vision vibe platform..."
        xdg-open http://localhost:$PORT
    else
        echo "üì± Manually visit: http://localhost:$PORT"
    fi
    
    echo ""
    echo "‚èπÔ∏è  To stop: kill $VIBE_PID"
    echo ""
    echo "üëÅÔ∏è The eye sees all contracts, the audience decides their fate..."
    echo ""
    
    # Keep script running
    echo "üîÑ Contract vision vibe system running... Press Ctrl+C to stop"
    trap "echo ''; echo 'üëÅÔ∏è Closing the vibe platform...'; kill $VIBE_PID; exit 0" INT
    
    # Monitor the process
    while ps -p $VIBE_PID > /dev/null; do
        sleep 5
    done
    
    echo "‚ùå Contract vision vibe system stopped"
else
    echo "‚ùå Failed to launch Contract Vision Vibe System"
    exit 1
fi