<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üíß Compute Energy Faucet - Get Paid for Storage & Compute</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: 'Monaco', 'Menlo', monospace; 
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: #fff;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container { max-width: 1200px; margin: 0 auto; }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        
        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .stat-card {
            background: rgba(255,255,255,0.15);
            border-radius: 10px;
            padding: 25px;
            text-align: center;
            backdrop-filter: blur(5px);
            transition: transform 0.3s ease, background 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
            background: rgba(255,255,255,0.2);
        }
        
        .stat-value {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 10px;
            color: #4CAF50;
        }
        
        .stat-label {
            font-size: 1em;
            opacity: 0.8;
        }
        
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 40px;
        }
        
        .panel {
            background: rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 30px;
            backdrop-filter: blur(10px);
        }
        
        .panel h2 {
            margin-bottom: 20px;
            color: #FFD700;
            border-bottom: 2px solid rgba(255,215,0,0.3);
            padding-bottom: 10px;
        }
        
        .reward-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            margin: 10px 0;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            border-left: 4px solid #4CAF50;
        }
        
        .reward-source {
            font-weight: bold;
        }
        
        .reward-amount {
            color: #4CAF50;
            font-weight: bold;
        }
        
        .button {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .button:hover {
            background: linear-gradient(45deg, #45a049, #4CAF50);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
        }
        
        .button:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .button.secondary {
            background: linear-gradient(45deg, #2196F3, #1976D2);
        }
        
        .button.secondary:hover {
            background: linear-gradient(45deg, #1976D2, #2196F3);
        }
        
        .provider-status {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .status-item {
            background: rgba(255,255,255,0.1);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }
        
        .status-online { border-left: 4px solid #4CAF50; }
        .status-offline { border-left: 4px solid #F44336; }
        .status-busy { border-left: 4px solid #FF9800; }
        
        .resource-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .resource-card {
            background: rgba(255,255,255,0.1);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        
        .resource-price {
            font-size: 1.5em;
            color: #FFD700;
            margin: 10px 0;
        }
        
        .marketplace-activity {
            max-height: 300px;
            overflow-y: auto;
        }
        
        .activity-item {
            padding: 10px;
            margin: 5px 0;
            background: rgba(255,255,255,0.05);
            border-radius: 5px;
            font-size: 0.9em;
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
        }
        
        .meme-section {
            margin: 20px 0;
            padding: 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
            text-align: center;
        }
        
        .water-jug {
            font-size: 3em;
            margin: 10px;
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            40% { transform: translateY(-10px); }
            60% { transform: translateY(-5px); }
        }
        
        .connection-status {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 10px 15px;
            border-radius: 20px;
            background: rgba(76, 175, 80, 0.2);
            border: 2px solid #4CAF50;
            font-size: 0.9em;
        }
        
        .disconnected {
            background: rgba(244, 67, 54, 0.2);
            border-color: #F44336;
        }
        
        @media (max-width: 768px) {
            .main-grid { grid-template-columns: 1fr; }
            .header h1 { font-size: 2em; }
        }
    </style>
</head>
<body>
    <div class="connection-status" id="connectionStatus">
        üîå Connecting...
    </div>
    
    <div class="container">
        <div class="header">
            <h1>üíß Compute Energy Faucet</h1>
            <p>Get paid for providing storage, compute power, and bandwidth to our pirate network!</p>
            <div class="water-jug">üè∫üíßüè¥‚Äç‚ò†Ô∏èüíßüè∫</div>
        </div>
        
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value" id="totalEarnings">$0.00</div>
                <div class="stat-label">Total Earnings</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="claimableAmount">$0.00</div>
                <div class="stat-label">Claimable Amount</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="activeProviders">0</div>
                <div class="stat-label">Active Providers</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="dailyEarnings">$0.00</div>
                <div class="stat-label">Daily Earnings</div>
            </div>
        </div>
        
        <div class="main-grid">
            <div class="panel">
                <h2>üí∞ Your Faucet Rewards</h2>
                <div id="rewardsList">
                    <div class="reward-item">
                        <div>
                            <div class="reward-source">Storage Rewards</div>
                            <div>DeathToData storage sharing</div>
                        </div>
                        <div class="reward-amount">$0.00</div>
                    </div>
                    <div class="reward-item">
                        <div>
                            <div class="reward-source">Compute Provider</div>
                            <div>CPU/GPU time provided</div>
                        </div>
                        <div class="reward-amount">$0.00</div>
                    </div>
                    <div class="reward-item">
                        <div>
                            <div class="reward-source">Bandwidth Sharing</div>
                            <div>Network resources shared</div>
                        </div>
                        <div class="reward-amount">$0.00</div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button class="button" id="claimButton" disabled>
                        üíß Claim Rewards ($1.00 minimum)
                    </button>
                </div>
            </div>
            
            <div class="panel">
                <h2>üîã Provider Status</h2>
                <div class="provider-status">
                    <div class="status-item status-online">
                        <div>üñ•Ô∏è CPU</div>
                        <div>Online</div>
                        <div>8 cores available</div>
                    </div>
                    <div class="status-item status-offline">
                        <div>üéÆ GPU</div>
                        <div>Offline</div>
                        <div>RTX 4090 idle</div>
                    </div>
                    <div class="status-item status-busy">
                        <div>üíæ Storage</div>
                        <div>Busy</div>
                        <div>10TB / 95% full</div>
                    </div>
                </div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button class="button secondary" id="registerProvider">
                        üöÄ Register as Provider
                    </button>
                </div>
            </div>
        </div>
        
        <div class="main-grid">
            <div class="panel">
                <h2>üìä Current Pricing</h2>
                <div class="resource-grid">
                    <div class="resource-card">
                        <div>‚ö° CPU</div>
                        <div class="resource-price">$0.05</div>
                        <div>per core-hour</div>
                    </div>
                    <div class="resource-card">
                        <div>üéÆ GPU</div>
                        <div class="resource-price">$1.50</div>
                        <div>per gpu-hour</div>
                    </div>
                    <div class="resource-card">
                        <div>üíæ Storage</div>
                        <div class="resource-price">$0.023</div>
                        <div>per gb-month</div>
                    </div>
                    <div class="resource-card">
                        <div>üåê Bandwidth</div>
                        <div class="resource-price">$0.09</div>
                        <div>per gb-transfer</div>
                    </div>
                </div>
            </div>
            
            <div class="panel">
                <h2>üìà Marketplace Activity</h2>
                <div class="marketplace-activity" id="activityFeed">
                    <div class="activity-item">üí∞ User earned $2.50 from GPU compute</div>
                    <div class="activity-item">üìä New storage reward: $0.15 for 150GB</div>
                    <div class="activity-item">‚ö° Compute job completed: AI training task</div>
                    <div class="activity-item">üéÆ Gaming session started: RTX 4090 allocated</div>
                    <div class="activity-item">üíß Faucet reward claimed: $5.25</div>
                    <div class="activity-item">üîã New provider registered: 32-core server</div>
                </div>
            </div>
        </div>
        
        <div class="meme-section">
            <h3>ü§£ "Gay4RayChan" or whatever meme integration</h3>
            <p>Connect your memes to storage rewards! Store your favorite 9GAG content and earn passive income.</p>
            <p>Every jug of water stored = drips of profits! üíß‚Üíüí∞</p>
            <button class="button secondary">üè∫ Store Meme Collection</button>
        </div>
        
        <div class="footer">
            <p>üè¥‚Äç‚ò†Ô∏è Part of the Pirate Network - Decentralized compute for everyone</p>
            <p>Connected to: Modal.com, DeathToData, Local Infrastructure</p>
            <p><strong>Next faucet drip in: <span id="nextDrip">23:42:15</span></strong></p>
        </div>
    </div>

    <script>
        // WebSocket connection to compute marketplace
        let ws;
        let userId = 'demo_user_' + Math.random().toString(36).substring(7);
        
        function connectWebSocket() {
            ws = new WebSocket('ws://localhost:9801');
            
            ws.onopen = function() {
                console.log('Connected to compute marketplace');
                document.getElementById('connectionStatus').textContent = 'üîå Connected';
                document.getElementById('connectionStatus').classList.remove('disconnected');
                
                // Subscribe to user updates
                ws.send(JSON.stringify({
                    type: 'subscribe_user_updates',
                    userId: userId
                }));
                
                // Request initial data
                requestFaucetStatus();
            };
            
            ws.onmessage = function(event) {
                const data = JSON.parse(event.data);
                handleWebSocketMessage(data);
            };
            
            ws.onclose = function() {
                document.getElementById('connectionStatus').textContent = 'üîå Disconnected';
                document.getElementById('connectionStatus').classList.add('disconnected');
                
                // Reconnect after 3 seconds
                setTimeout(connectWebSocket, 3000);
            };
            
            ws.onerror = function(error) {
                console.error('WebSocket error:', error);
            };
        }
        
        function handleWebSocketMessage(data) {
            switch(data.type) {
                case 'faucet_status_update':
                    updateFaucetDisplay(data.data);
                    break;
                case 'marketplace_activity':
                    addActivityItem(data.data);
                    break;
                case 'pricing_update':
                    updatePricing(data.data);
                    break;
            }
        }
        
        function requestFaucetStatus() {
            if (ws && ws.readyState === WebSocket.OPEN) {
                ws.send(JSON.stringify({
                    type: 'get_faucet_status',
                    userId: userId
                }));
            }
        }
        
        function updateFaucetDisplay(data) {
            document.getElementById('totalEarnings').textContent = '$' + (data.totalEarned || 0).toFixed(2);
            document.getElementById('claimableAmount').textContent = '$' + (data.claimableAmount || 0).toFixed(2);
            document.getElementById('dailyEarnings').textContent = '$' + (data.dailyEarnings || 0).toFixed(2);
            
            // Update claim button
            const claimButton = document.getElementById('claimButton');
            if (data.claimableAmount >= 1.0) {
                claimButton.disabled = false;
                claimButton.textContent = `üíß Claim $${data.claimableAmount.toFixed(2)}`;
            }
            
            // Update rewards breakdown
            if (data.earningsBreakdown) {
                updateRewardsBreakdown(data.earningsBreakdown);
            }
        }
        
        function updateRewardsBreakdown(breakdown) {
            const rewardItems = document.querySelectorAll('.reward-amount');
            
            if (breakdown.storage_rewards) {
                rewardItems[0].textContent = '$' + breakdown.storage_rewards.amount.toFixed(2);
            }
            if (breakdown.compute_provider) {
                rewardItems[1].textContent = '$' + breakdown.compute_provider.amount.toFixed(2);
            }
            if (breakdown.bandwidth_sharing) {
                rewardItems[2].textContent = '$' + breakdown.bandwidth_sharing.amount.toFixed(2);
            }
        }
        
        function addActivityItem(activity) {
            const feed = document.getElementById('activityFeed');
            const item = document.createElement('div');
            item.className = 'activity-item';
            item.textContent = activity.message;
            feed.insertBefore(item, feed.firstChild);
            
            // Keep only last 10 items
            while (feed.children.length > 10) {
                feed.removeChild(feed.lastChild);
            }
        }
        
        function claimRewards() {
            if (ws && ws.readyState === WebSocket.OPEN) {
                ws.send(JSON.stringify({
                    type: 'claim_faucet_rewards',
                    userId: userId
                }));
                
                document.getElementById('claimButton').disabled = true;
                document.getElementById('claimButton').textContent = 'üíß Processing...';
            }
        }
        
        function registerAsProvider() {
            // Simulate provider registration
            if (ws && ws.readyState === WebSocket.OPEN) {
                ws.send(JSON.stringify({
                    type: 'register_provider',
                    userId: userId,
                    resourceTypes: ['cpu', 'storage'],
                    capacity: {
                        cores: 8,
                        memory: 16,
                        storage: '1TB'
                    }
                }));
            }
        }
        
        // Simulate data updates
        function simulateData() {
            // Simulate earnings growth
            const currentEarnings = parseFloat(document.getElementById('totalEarnings').textContent.replace('$', ''));
            const newEarnings = currentEarnings + (Math.random() * 0.01);
            document.getElementById('totalEarnings').textContent = '$' + newEarnings.toFixed(2);
            
            // Simulate claimable amount growth
            const currentClaimable = parseFloat(document.getElementById('claimableAmount').textContent.replace('$', ''));
            const newClaimable = currentClaimable + (Math.random() * 0.005);
            document.getElementById('claimableAmount').textContent = '$' + newClaimable.toFixed(2);
            
            // Update claim button if needed
            if (newClaimable >= 1.0) {
                const claimButton = document.getElementById('claimButton');
                claimButton.disabled = false;
                claimButton.textContent = `üíß Claim $${newClaimable.toFixed(2)}`;
            }
            
            // Add random activity
            const activities = [
                'üí∞ Provider earned $3.25 from CPU compute',
                'üìä New storage reward: $0.08 for 80GB stored',
                '‚ö° AI training job completed successfully',
                'üéÆ Gaming compute session: 2 hours RTX 4090',
                'üíß Faucet reward auto-distributed',
                'üîã High-performance server came online'
            ];
            
            const randomActivity = activities[Math.floor(Math.random() * activities.length)];
            addActivityItem({ message: randomActivity });
        }
        
        // Countdown timer for next faucet drip
        function updateCountdown() {
            const nextDripElement = document.getElementById('nextDrip');
            const currentTime = nextDripElement.textContent.split(':');
            let hours = parseInt(currentTime[0]);
            let minutes = parseInt(currentTime[1]);
            let seconds = parseInt(currentTime[2]);
            
            seconds--;
            if (seconds < 0) {
                seconds = 59;
                minutes--;
                if (minutes < 0) {
                    minutes = 59;
                    hours--;
                    if (hours < 0) {
                        hours = 23;
                        minutes = 59;
                        seconds = 59;
                    }
                }
            }
            
            nextDripElement.textContent = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
        }
        
        // Event listeners
        document.getElementById('claimButton').addEventListener('click', claimRewards);
        document.getElementById('registerProvider').addEventListener('click', registerAsProvider);
        
        // Initialize
        connectWebSocket();
        
        // Start data simulation and countdown
        setInterval(simulateData, 5000); // Every 5 seconds
        setInterval(updateCountdown, 1000); // Every second
        
        // Initialize with some demo data
        setTimeout(() => {
            updateFaucetDisplay({
                totalEarned: 12.45,
                claimableAmount: 0.85,
                dailyEarnings: 2.30,
                earningsBreakdown: {
                    storage_rewards: { amount: 0.45 },
                    compute_provider: { amount: 0.25 },
                    bandwidth_sharing: { amount: 0.15 }
                }
            });
            
            document.getElementById('activeProviders').textContent = '247';
        }, 1000);
    </script>
</body>
</html>