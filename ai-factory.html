<!DOCTYPE html>
<html>
<head>
    <title>AI Factory - Document Generator Production Floor</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { 
            font-family: monospace;
            background: #0a0a0a;
            color: #00ff00;
            overflow: hidden;
        }
        
        /* Factory Floor */
        .factory {
            width: 100vw;
            height: 100vh;
            position: relative;
            background: 
                linear-gradient(rgba(0,255,0,0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0,255,0,0.03) 1px, transparent 1px);
            background-size: 50px 50px;
        }
        
        /* Conveyor Belt */
        .conveyor {
            position: absolute;
            width: 80%;
            height: 100px;
            background: #1a1a1a;
            border: 2px solid #00ff00;
            left: 10%;
            top: 50%;
            transform: translateY(-50%);
            overflow: hidden;
        }
        
        .conveyor-belt {
            position: absolute;
            width: 200%;
            height: 100%;
            background: repeating-linear-gradient(
                90deg,
                #0a0a0a,
                #0a0a0a 10px,
                #1a1a1a 10px,
                #1a1a1a 20px
            );
            animation: conveyorMove 2s linear infinite;
        }
        
        @keyframes conveyorMove {
            0% { transform: translateX(0); }
            100% { transform: translateX(-100px); }
        }
        
        /* AI Agents (Workers) */
        .agent {
            position: absolute;
            width: 60px;
            height: 80px;
            background: #00ff00;
            border: 2px solid #00aa00;
            border-radius: 10px 10px 0 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            animation: agentWork 2s ease-in-out infinite;
        }
        
        .agent-face {
            width: 40px;
            height: 40px;
            background: #000;
            border-radius: 50%;
            position: relative;
            margin-bottom: 5px;
        }
        
        .agent-eyes {
            position: absolute;
            top: 10px;
            left: 8px;
            width: 24px;
            display: flex;
            justify-content: space-between;
        }
        
        .eye {
            width: 8px;
            height: 8px;
            background: #00ff00;
            border-radius: 50%;
            animation: blink 3s infinite;
        }
        
        @keyframes blink {
            0%, 90%, 100% { transform: scaleY(1); }
            95% { transform: scaleY(0.1); }
        }
        
        @keyframes agentWork {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
        
        .agent-label {
            font-size: 10px;
            text-align: center;
        }
        
        /* Work Items (Documents/Stories) */
        .work-item {
            position: absolute;
            width: 60px;
            height: 40px;
            background: #333;
            border: 2px solid #666;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            animation: moveOnBelt 10s linear infinite;
        }
        
        @keyframes moveOnBelt {
            0% { left: -100px; }
            100% { left: 100%; }
        }
        
        /* Processing Stations */
        .station {
            position: absolute;
            width: 120px;
            height: 150px;
            background: #1a1a1a;
            border: 3px solid #00ff00;
            border-radius: 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 20px rgba(0,255,0,0.3);
        }
        
        .station-name {
            color: #00ff00;
            font-size: 12px;
            margin-bottom: 10px;
        }
        
        .station-display {
            width: 90%;
            height: 60px;
            background: #000;
            border: 1px solid #00ff00;
            border-radius: 5px;
            padding: 5px;
            font-size: 10px;
            overflow: hidden;
        }
        
        /* Output Area */
        .output-area {
            position: absolute;
            bottom: 20px;
            right: 20px;
            width: 300px;
            background: rgba(0,0,0,0.9);
            border: 2px solid #00ff00;
            border-radius: 10px;
            padding: 20px;
        }
        
        .output-title {
            color: #00ff00;
            margin-bottom: 10px;
        }
        
        .product {
            background: #1a1a1a;
            border: 1px solid #00ff00;
            padding: 10px;
            margin: 5px 0;
            border-radius: 5px;
            animation: productGlow 2s infinite;
        }
        
        @keyframes productGlow {
            0%, 100% { box-shadow: 0 0 5px rgba(0,255,0,0.5); }
            50% { box-shadow: 0 0 20px rgba(0,255,0,0.8); }
        }
        
        /* Stats Panel */
        .stats-panel {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(0,0,0,0.9);
            border: 2px solid #00ff00;
            border-radius: 10px;
            padding: 20px;
            min-width: 250px;
        }
        
        .stat-item {
            margin: 5px 0;
            display: flex;
            justify-content: space-between;
        }
        
        .stat-value {
            color: #ffff00;
            font-weight: bold;
        }
        
        /* Virtual Environment (Habbo-style room) */
        .virtual-room {
            position: absolute;
            top: 20px;
            right: 20px;
            width: 400px;
            height: 300px;
            background: #1a1a1a;
            border: 3px solid #00ff00;
            border-radius: 10px;
            overflow: hidden;
            perspective: 1000px;
        }
        
        .room-floor {
            position: absolute;
            bottom: 0;
            width: 100%;
            height: 150px;
            background: 
                repeating-conic-gradient(#0a0a0a 0deg 90deg, #1a1a1a 90deg 180deg) 50% / 20px 20px;
            transform: rotateX(60deg) translateZ(-50px);
            transform-origin: bottom;
        }
        
        .room-wall {
            position: absolute;
            top: 0;
            width: 100%;
            height: 150px;
            background: linear-gradient(to bottom, #2a2a2a, #1a1a1a);
            border-bottom: 2px solid #00ff00;
        }
        
        /* AI Avatar in room */
        .avatar {
            position: absolute;
            width: 30px;
            height: 40px;
            background: #00ff00;
            border: 2px solid #00aa00;
            border-radius: 5px 5px 0 0;
            bottom: 100px;
            animation: avatarWalk 5s infinite;
        }
        
        @keyframes avatarWalk {
            0% { left: 50px; }
            50% { left: 300px; }
            100% { left: 50px; }
        }
        
        .chat-bubble {
            position: absolute;
            background: rgba(0,255,0,0.1);
            border: 1px solid #00ff00;
            padding: 5px 10px;
            border-radius: 10px;
            font-size: 12px;
            bottom: 150px;
            animation: chatFloat 3s infinite;
        }
        
        @keyframes chatFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }
    </style>
</head>
<body>
    <div class="factory">
        <!-- Stats Panel -->
        <div class="stats-panel">
            <h3 style="color: #00ff00; margin-bottom: 10px;">üè≠ AI Factory Stats</h3>
            <div class="stat-item">
                <span>Documents Processed:</span>
                <span class="stat-value" id="docCount">0</span>
            </div>
            <div class="stat-item">
                <span>Frameworks Extracted:</span>
                <span class="stat-value" id="frameworkCount">0</span>
            </div>
            <div class="stat-item">
                <span>MVPs Generated:</span>
                <span class="stat-value" id="mvpCount">0</span>
            </div>
            <div class="stat-item">
                <span>Revenue Generated:</span>
                <span class="stat-value" id="revenue">$0</span>
            </div>
            <div class="stat-item">
                <span>AI Calls/Hour:</span>
                <span class="stat-value" id="aiCalls">0</span>
            </div>
        </div>
        
        <!-- Virtual Room (Habbo-style) -->
        <div class="virtual-room">
            <div class="room-wall"></div>
            <div class="room-floor"></div>
            <div class="avatar" id="avatar1"></div>
            <div class="chat-bubble" style="left: 50px;">Processing story...</div>
            <div class="avatar" style="background: #ff00ff; animation-delay: 2s;" id="avatar2"></div>
            <div class="chat-bubble" style="left: 200px; animation-delay: 1s;">Extracting framework!</div>
        </div>
        
        <!-- Processing Stations -->
        <div class="station" style="left: 20%; top: 20%;">
            <div class="station-name">üìÑ STORY INTAKE</div>
            <div class="station-display" id="intake-display">
                Waiting for stories...
            </div>
        </div>
        
        <div class="station" style="left: 45%; top: 20%;">
            <div class="station-name">üß† AI PROCESSOR</div>
            <div class="station-display" id="ai-display">
                Model: Ready
            </div>
        </div>
        
        <div class="station" style="left: 70%; top: 20%;">
            <div class="station-name">üèóÔ∏è MVP BUILDER</div>
            <div class="station-display" id="mvp-display">
                Generators: Online
            </div>
        </div>
        
        <!-- Conveyor Belt -->
        <div class="conveyor">
            <div class="conveyor-belt"></div>
            <div id="work-items"></div>
        </div>
        
        <!-- AI Agents -->
        <div class="agent" style="left: 20%; bottom: 200px;">
            <div class="agent-face">
                <div class="agent-eyes">
                    <div class="eye"></div>
                    <div class="eye"></div>
                </div>
            </div>
            <div class="agent-label">Story Bot</div>
        </div>
        
        <div class="agent" style="left: 45%; bottom: 200px; animation-delay: 0.5s;">
            <div class="agent-face">
                <div class="agent-eyes">
                    <div class="eye"></div>
                    <div class="eye"></div>
                </div>
            </div>
            <div class="agent-label">AI Bot</div>
        </div>
        
        <div class="agent" style="left: 70%; bottom: 200px; animation-delay: 1s;">
            <div class="agent-face">
                <div class="agent-eyes">
                    <div class="eye"></div>
                    <div class="eye"></div>
                </div>
            </div>
            <div class="agent-label">Build Bot</div>
        </div>
        
        <!-- Output Area -->
        <div class="output-area">
            <h3 class="output-title">üì¶ Completed Products</h3>
            <div id="products"></div>
        </div>
    </div>
    
    <script>
        // Factory state
        let stats = {
            documents: 0,
            frameworks: 0,
            mvps: 0,
            revenue: 0,
            aiCalls: 0
        };
        
        // Work item types
        const itemTypes = ['üìÑ', 'üìù', 'üìã', 'üíº', 'üéØ'];
        
        // Create work items on conveyor
        function createWorkItem() {
            const item = document.createElement('div');
            item.className = 'work-item';
            item.textContent = itemTypes[Math.floor(Math.random() * itemTypes.length)];
            item.style.top = '30px';
            item.style.animationDuration = (8 + Math.random() * 4) + 's';
            
            document.getElementById('work-items').appendChild(item);
            
            // Remove after animation
            setTimeout(() => item.remove(), 12000);
            
            // Update displays
            updateStationDisplays();
        }
        
        // Update station displays
        function updateStationDisplays() {
            const storyTypes = ['Recovery Story', 'Business Plan', 'Mental Health Journey', 'Startup Idea'];
            const aiModels = ['story-analyzer', 'framework-extractor', 'mvp-generator'];
            const mvpTypes = ['Coaching Platform', 'SaaS Tool', 'Mobile App', 'Course Site'];
            
            document.getElementById('intake-display').textContent = 
                'Processing: ' + storyTypes[Math.floor(Math.random() * storyTypes.length)];
            
            document.getElementById('ai-display').innerHTML = 
                'Model: ' + aiModels[Math.floor(Math.random() * aiModels.length)] + '<br>' +
                'Status: üü¢ Active';
            
            document.getElementById('mvp-display').textContent = 
                'Building: ' + mvpTypes[Math.floor(Math.random() * mvpTypes.length)];
        }
        
        // Create finished product
        function createProduct() {
            stats.documents++;
            stats.frameworks++;
            stats.mvps++;
            stats.revenue += Math.floor(Math.random() * 200) + 50;
            stats.aiCalls += Math.floor(Math.random() * 5) + 1;
            
            const product = document.createElement('div');
            product.className = 'product';
            product.innerHTML = `
                <div style="color: #ffff00;">‚úÖ MVP #${stats.mvps}</div>
                <div style="font-size: 12px;">Type: ${['Coaching', 'SaaS', 'Course'][Math.floor(Math.random() * 3)]}</div>
                <div style="font-size: 12px;">Revenue: $${Math.floor(Math.random() * 100) + 20}</div>
            `;
            
            const productsDiv = document.getElementById('products');
            productsDiv.insertBefore(product, productsDiv.firstChild);
            
            // Keep only last 5 products
            while (productsDiv.children.length > 5) {
                productsDiv.removeChild(productsDiv.lastChild);
            }
            
            updateStats();
        }
        
        // Update stats display
        function updateStats() {
            document.getElementById('docCount').textContent = stats.documents;
            document.getElementById('frameworkCount').textContent = stats.frameworks;
            document.getElementById('mvpCount').textContent = stats.mvps;
            document.getElementById('revenue').textContent = '$' + stats.revenue;
            document.getElementById('aiCalls').textContent = stats.aiCalls;
        }
        
        // Animate chat bubbles
        function updateChatBubbles() {
            const messages = [
                'Processing story...',
                'Extracting lessons!',
                'Building MVP...',
                'Deploying app!',
                'Customer signed up!',
                'Revenue incoming!'
            ];
            
            document.querySelectorAll('.chat-bubble').forEach((bubble, i) => {
                if (Math.random() > 0.7) {
                    bubble.textContent = messages[Math.floor(Math.random() * messages.length)];
                }
            });
        }
        
        // Start factory
        setInterval(createWorkItem, 2000);
        setInterval(createProduct, 5000);
        setInterval(updateChatBubbles, 3000);
        
        // Initial items
        setTimeout(createWorkItem, 100);
        setTimeout(createWorkItem, 1000);
        setTimeout(createWorkItem, 2000);
        
        // WebSocket connection to real platform
        try {
            const ws = new WebSocket('ws://localhost:5005');
            ws.onmessage = (event) => {
                const data = JSON.parse(event.data);
                if (data.type === 'stats') {
                    // Update with real stats
                    if (data.data.totalAICalls) {
                        stats.aiCalls = data.data.totalAICalls;
                    }
                    updateStats();
                }
            };
        } catch (e) {
            console.log('Running in demo mode');
        }
    </script>
</body>
</html>