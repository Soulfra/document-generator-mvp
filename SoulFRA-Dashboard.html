<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SoulFRA - Unified AI Platform Dashboard</title>
    
    <!-- Master CSS - Unified Design System -->
    <link rel="stylesheet" href="styles/master.css">
    
    <!-- Custom Styles for Purple Theme -->
    <style>
        /* Apply purple gradient theme */
        body {
            background: linear-gradient(135deg, #6B46C1 0%, #9333EA 50%, #C026D3 100%);
        }
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #6B46C1 0%, #9333EA 50%, #C026D3 100%);
            color: white;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 4em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            background: linear-gradient(45deg, #fff, #f0f9ff);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header p {
            font-size: 1.4em;
            opacity: 0.9;
            margin-bottom: 10px;
        }

        .status-bar {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .status-indicator {
            background: rgba(255, 255, 255, 0.1);
            padding: 10px 20px;
            border-radius: 25px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .status-indicator.online {
            background: rgba(34, 197, 94, 0.2);
            border-color: rgba(34, 197, 94, 0.3);
        }

        .status-indicator.offline {
            background: rgba(239, 68, 68, 0.2);
            border-color: rgba(239, 68, 68, 0.3);
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 30px;
            margin-bottom: 40px;
        }

        .service-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
        }

        .service-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .service-icon {
            font-size: 2.5em;
            margin-right: 15px;
        }

        .service-title {
            flex: 1;
        }

        .service-title h3 {
            font-size: 1.5em;
            margin-bottom: 5px;
        }

        .service-title p {
            opacity: 0.8;
            font-size: 0.9em;
        }

        .service-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .action-btn {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1));
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 8px 16px;
            border-radius: 20px;
            text-decoration: none;
            font-size: 0.9em;
            transition: all 0.3s;
            cursor: pointer;
        }

        .action-btn:hover {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0.2));
            transform: translateY(-1px);
        }

        .action-btn.primary {
            background: linear-gradient(135deg, #10B981, #059669);
            border-color: #10B981;
        }

        .action-btn.primary:hover {
            background: linear-gradient(135deg, #059669, #047857);
        }

        .registry-section {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            margin-bottom: 30px;
        }

        .domain-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .domain-card {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .domain-card h4 {
            color: #10B981;
            margin-bottom: 10px;
            font-size: 1.2em;
        }

        .domain-card p {
            opacity: 0.8;
            margin-bottom: 10px;
            font-size: 0.9em;
        }

        .domain-features {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
        }

        .feature-tag {
            background: rgba(255, 255, 255, 0.2);
            padding: 3px 8px;
            border-radius: 10px;
            font-size: 0.7em;
        }

        .api-docs {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .endpoint-list {
            display: grid;
            gap: 15px;
            margin-top: 20px;
        }

        .endpoint {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 10px;
            padding: 15px;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .endpoint-method {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: bold;
            margin-right: 10px;
        }

        .method-get { background: rgba(34, 197, 94, 0.3); }
        .method-post { background: rgba(59, 130, 246, 0.3); }
        .method-put { background: rgba(245, 158, 11, 0.3); }
        .method-delete { background: rgba(239, 68, 68, 0.3); }

        .logs-section {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            font-family: 'Monaco', 'Menlo', monospace;
            font-size: 0.9em;
            max-height: 300px;
            overflow-y: auto;
        }

        .log-entry {
            margin: 5px 0;
            padding: 5px;
            border-radius: 3px;
        }

        .log-info { background: rgba(59, 130, 246, 0.1); }
        .log-success { background: rgba(34, 197, 94, 0.1); }
        .log-warning { background: rgba(245, 158, 11, 0.1); }
        .log-error { background: rgba(239, 68, 68, 0.1); }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .loading { animation: pulse 2s infinite; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üåü SoulFRA</h1>
            <p>Unified AI Platform Dashboard</p>
            <p>Brand Consultation ‚Ä¢ MVP Generation ‚Ä¢ Domain Registry ‚Ä¢ Cross-Platform Portal System</p>
        </div>

        <div class="status-bar" id="statusBar">
            <div class="status-indicator loading" id="brandApiStatus">
                üé® Brand API: Checking...
            </div>
            <div class="status-indicator loading" id="mvpApiStatus">
                ‚ùÑÔ∏è MVP API: Checking...
            </div>
            <div class="status-indicator loading" id="registryStatus">
                üåê Registry: Checking...
            </div>
        </div>

        <div class="services-grid">
            <div class="service-card">
                <div class="service-header">
                    <div class="service-icon">üé®</div>
                    <div class="service-title">
                        <h3>BrandAidKit</h3>
                        <p>AI-powered brand consultation and identity generation</p>
                    </div>
                </div>
                <div class="service-actions">
                    <a href="./BrandAidKit.html" class="action-btn primary">üöÄ Launch BrandAidKit</a>
                    <button class="action-btn" onclick="testBrandAPI()">üß™ Test API</button>
                    <a href="#" class="action-btn" onclick="showBrandDocs()">üìñ API Docs</a>
                </div>
            </div>

            <div class="service-card">
                <div class="service-header">
                    <div class="service-icon">‚ùÑÔ∏è</div>
                    <div class="service-title">
                        <h3>ColdStartKit</h3>
                        <p>Document to MVP generation pipeline</p>
                    </div>
                </div>
                <div class="service-actions">
                    <a href="./ColdStartKit.html" class="action-btn primary">üöÄ Launch ColdStartKit</a>
                    <button class="action-btn" onclick="testMVPAPI()">üß™ Test API</button>
                    <a href="#" class="action-btn" onclick="showMVPDocs()">üìñ API Docs</a>
                </div>
            </div>

            <div class="service-card">
                <div class="service-header">
                    <div class="service-icon">üåê</div>
                    <div class="service-title">
                        <h3>Domain Registry</h3>
                        <p>Multi-domain ecosystem management</p>
                    </div>
                </div>
                <div class="service-actions">
                    <button class="action-btn primary" onclick="loadDomainRegistry()">üîç View Registry</button>
                    <button class="action-btn" onclick="testRegistryAPI()">üß™ Test API</button>
                </div>
            </div>

            <div class="service-card">
                <div class="service-header">
                    <div class="service-icon">üéÆ</div>
                    <div class="service-title">
                        <h3>Game Portals</h3>
                        <p>Cross-domain gaming and portal system</p>
                    </div>
                </div>
                <div class="service-actions">
                    <button class="action-btn primary" onclick="launchPortalSystem()">üåâ Launch Portals</button>
                    <button class="action-btn" onclick="showPortalMap()">üó∫Ô∏è Portal Map</button>
                </div>
            </div>
        </div>

        <div class="registry-section">
            <h3>üåê Live Domain Registry</h3>
            <p>Real-time status of all registered domains in the SoulFRA ecosystem</p>
            <div class="domain-grid" id="domainGrid">
                <div class="domain-card loading">Loading domains...</div>
            </div>
        </div>

        <div class="api-docs">
            <h3>üìñ Live API Documentation</h3>
            <p>Real-time API endpoints and their current status</p>
            <div class="endpoint-list" id="endpointList">
                <div class="endpoint loading">Loading endpoints...</div>
            </div>
        </div>

        <div class="logs-section" id="logsSection">
            <div class="log-entry log-info">SoulFRA Dashboard initialized...</div>
        </div>
    </div>

    <script>
        let logs = [];
        
        // Logging function
        function addLog(message, type = 'info') {
            const timestamp = new Date().toLocaleTimeString();
            logs.push({ message, type, timestamp });
            
            const logEntry = document.createElement('div');
            logEntry.className = `log-entry log-${type}`;
            logEntry.textContent = `[${timestamp}] ${message}`;
            
            const logsSection = document.getElementById('logsSection');
            logsSection.appendChild(logEntry);
            logsSection.scrollTop = logsSection.scrollHeight;
            
            // Keep only last 50 logs
            if (logs.length > 50) {
                logs = logs.slice(-50);
                const entries = logsSection.querySelectorAll('.log-entry');
                if (entries.length > 50) {
                    entries[0].remove();
                }
            }
        }

        // API Health Checks
        async function checkAPIHealth() {
            addLog('Starting API health checks...');
            
            // Check Brand API
            try {
                const brandResponse = await fetch('http://localhost:3001/health');
                const brandStatus = document.getElementById('brandApiStatus');
                if (brandResponse.ok) {
                    brandStatus.className = 'status-indicator online';
                    brandStatus.textContent = 'üé® Brand API: Online';
                    addLog('Brand Consultation API is online', 'success');
                } else {
                    throw new Error('Brand API unhealthy');
                }
            } catch (error) {
                const brandStatus = document.getElementById('brandApiStatus');
                brandStatus.className = 'status-indicator offline';
                brandStatus.textContent = 'üé® Brand API: Offline';
                addLog('Brand Consultation API is offline', 'error');
            }

            // Check MVP API
            try {
                const mvpResponse = await fetch('http://localhost:3002/health');
                const mvpStatus = document.getElementById('mvpApiStatus');
                if (mvpResponse.ok) {
                    mvpStatus.className = 'status-indicator online';
                    mvpStatus.textContent = '‚ùÑÔ∏è MVP API: Online';
                    addLog('MVP Generation API is online', 'success');
                } else {
                    throw new Error('MVP API unhealthy');
                }
            } catch (error) {
                const mvpStatus = document.getElementById('mvpApiStatus');
                mvpStatus.className = 'status-indicator offline';
                mvpStatus.textContent = '‚ùÑÔ∏è MVP API: Offline';
                addLog('MVP Generation API is offline', 'error');
            }

            // Check Registry
            try {
                const registryResponse = await fetch('http://localhost:3001/api/v1/domains');
                const registryStatus = document.getElementById('registryStatus');
                if (registryResponse.ok) {
                    registryStatus.className = 'status-indicator online';
                    registryStatus.textContent = 'üåê Registry: Online';
                    addLog('Domain Registry is accessible', 'success');
                } else {
                    throw new Error('Registry inaccessible');
                }
            } catch (error) {
                const registryStatus = document.getElementById('registryStatus');
                registryStatus.className = 'status-indicator offline';
                registryStatus.textContent = 'üåê Registry: Offline';
                addLog('Domain Registry is offline', 'error');
            }
        }

        // Load Domain Registry
        async function loadDomainRegistry() {
            addLog('Loading domain registry...');
            const domainGrid = document.getElementById('domainGrid');
            
            try {
                const response = await fetch('http://localhost:3001/api/v1/domains');
                const data = await response.json();
                
                if (response.ok && data.domains) {
                    const domains = Object.entries(data.domains);
                    domainGrid.innerHTML = '';
                    
                    domains.forEach(([domain, config]) => {
                        const card = document.createElement('div');
                        card.className = 'domain-card';
                        card.innerHTML = `
                            <h4>${domain}</h4>
                            <p>${config.zone?.description || 'No description'}</p>
                            <p><strong>Type:</strong> ${config.zone?.type || 'Unknown'}</p>
                            <div class="domain-features">
                                ${(config.functionality?.features || []).map(feature => 
                                    `<span class="feature-tag">${feature}</span>`
                                ).join('')}
                            </div>
                        `;
                        domainGrid.appendChild(card);
                    });
                    
                    addLog(`Loaded ${domains.length} domains from registry`, 'success');
                } else {
                    throw new Error('Failed to load domains');
                }
            } catch (error) {
                domainGrid.innerHTML = '<div class="domain-card">Failed to load domain registry</div>';
                addLog('Failed to load domain registry', 'error');
            }
        }

        // Load API Endpoints
        async function loadAPIEndpoints() {
            const endpointList = document.getElementById('endpointList');
            
            const endpoints = [
                { method: 'POST', path: '/api/v1/brand/analyze', description: 'Analyze business idea and generate brand identity', service: 'Brand API' },
                { method: 'POST', path: '/api/v1/consultation/create', description: 'Create full brand consultation package', service: 'Brand API' },
                { method: 'GET', path: '/api/v1/domains', description: 'Get domain registry', service: 'Brand API' },
                { method: 'POST', path: '/api/v1/mvp/generate', description: 'Generate MVP from document', service: 'MVP API' },
                { method: 'POST', path: '/api/v1/document/analyze', description: 'Analyze document only', service: 'MVP API' },
                { method: 'GET', path: '/api/v1/templates', description: 'Get available templates', service: 'MVP API' },
                { method: 'GET', path: '/api/v1/mvp/:id/status', description: 'Get MVP generation status', service: 'MVP API' }
            ];
            
            endpointList.innerHTML = '';
            endpoints.forEach(endpoint => {
                const div = document.createElement('div');
                div.className = 'endpoint';
                div.innerHTML = `
                    <span class="endpoint-method method-${endpoint.method.toLowerCase()}">${endpoint.method}</span>
                    <strong>${endpoint.path}</strong>
                    <p>${endpoint.description} (${endpoint.service})</p>
                `;
                endpointList.appendChild(div);
            });
        }

        // Test Functions
        async function testBrandAPI() {
            addLog('Testing Brand Consultation API...');
            try {
                const response = await fetch('http://localhost:3001/health');
                const data = await response.json();
                addLog(`Brand API Test: ${data.status}`, response.ok ? 'success' : 'warning');
            } catch (error) {
                addLog('Brand API Test: Failed to connect', 'error');
            }
        }

        async function testMVPAPI() {
            addLog('Testing MVP Generation API...');
            try {
                const response = await fetch('http://localhost:3002/health');
                const data = await response.json();
                addLog(`MVP API Test: ${data.status}`, response.ok ? 'success' : 'warning');
            } catch (error) {
                addLog('MVP API Test: Failed to connect', 'error');
            }
        }

        async function testRegistryAPI() {
            addLog('Testing Domain Registry API...');
            try {
                const response = await fetch('http://localhost:3001/api/v1/domains');
                const data = await response.json();
                addLog(`Registry Test: Loaded ${Object.keys(data.domains || {}).length} domains`, 'success');
            } catch (error) {
                addLog('Registry API Test: Failed to connect', 'error');
            }
        }

        function showBrandDocs() {
            addLog('Opening Brand API documentation...');
            alert('Brand API Endpoints:\n\nPOST /api/v1/brand/analyze\n- Analyze business idea\n\nPOST /api/v1/consultation/create\n- Create consultation\n\nGET /api/v1/domains\n- Get domain registry');
        }

        function showMVPDocs() {
            addLog('Opening MVP API documentation...');
            alert('MVP API Endpoints:\n\nPOST /api/v1/mvp/generate\n- Generate MVP from document\n\nPOST /api/v1/document/analyze\n- Analyze document only\n\nGET /api/v1/templates\n- Get templates');
        }

        function launchPortalSystem() {
            addLog('Portal system not yet implemented');
            alert('üöß Cross-domain portal system coming soon!\n\nThis will enable seamless navigation between:\n‚Ä¢ SoulFRA Business Analytics\n‚Ä¢ DeathToData Adventure World\n‚Ä¢ DealOrDelete Trading Floor\n‚Ä¢ CringeProof Arena\n‚Ä¢ And more...');
        }

        function showPortalMap() {
            addLog('Showing portal connection map');
            alert('üó∫Ô∏è Portal Connection Map:\n\nüè¢ SoulFRA ‚ÜîÔ∏è üìä DeathToData\nüéÆ CringeProof ‚ÜîÔ∏è üí∞ DealOrDelete\nüåä SaveOrSink ‚ÜîÔ∏è üéØ FinishThisIdea\n\n+ Cross-domain authentication\n+ Shared user sessions\n+ Portal transition animations');
        }

        // Initialize Dashboard
        document.addEventListener('DOMContentLoaded', function() {
            addLog('SoulFRA Dashboard initialized', 'success');
            
            // Start health checks
            checkAPIHealth();
            loadDomainRegistry();
            loadAPIEndpoints();
            
            // Set up periodic health checks
            setInterval(checkAPIHealth, 30000); // Check every 30 seconds
            
            // Add some interactive animations
            const cards = document.querySelectorAll('.service-card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                
                setTimeout(() => {
                    card.style.transition = 'all 0.6s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 200);
            });
        });
    </script>
    
    <!-- Theme Toggle -->
    <script src="styles/theme-toggle.js"></script>
</body>
</html>