{
  "version": "6.0",
  "description": "Layer 6 Educational Frameworks for Cal Orchestrator Query System",
  "integration": {
    "fluid_state_manager": "ws://localhost:8081",
    "orchestrator_discovery_ports": [3333, 3334, 3335, 4444, 8080, 42014],
    "debug_visualization_port": 8888,
    "cost_tracking_enabled": true,
    "purple_debug_mode": true
  },
  "frameworks": {
    "reasoning_debug": {
      "name": "Reasoning Debug Framework",
      "type": "debug",
      "cost_per_query": 10.0,
      "orchestrator_requirements": ["reasoning", "analysis", "forum"],
      "purple_mode_enabled": true,
      "ai_layer_integration": true,
      "description": "Debug reasoning chains through orchestrator queries",
      "chapter_template": "kickapoo_valley",
      "lesson_structure": [
        "ğŸ” Problem Identification",
        "ğŸ¤– Orchestrator Consultation",
        "ğŸ§  AI Layer Analysis", 
        "ğŸŸ£ Purple Debug Mode",
        "ğŸ’¡ Solution Generation",
        "ğŸ’° Cost Analysis"
      ],
      "debug_protocols": {
        "ai_layer_errors": "purple_mode_deep_analysis",
        "orchestrator_timeouts": "retry_with_fallback",
        "reasoning_chain_breaks": "step_by_step_reconstruction"
      }
    },
    "multi_orchestrator_lesson": {
      "name": "Multi-Orchestrator Lesson Generator",
      "type": "educational", 
      "cost_per_query": 25.0,
      "orchestrator_requirements": ["forum", "rpg", "llm", "display"],
      "chapter_style": "kickapoo_valley",
      "debug_integration": true,
      "description": "Generate comprehensive lessons by querying multiple orchestrators",
      "lesson_structure": [
        "ğŸ“š Learning Objectives",
        "ğŸ”„ Multi-System Query Phase",
        "ğŸ“Š Data Synthesis",
        "ğŸ® Interactive Examples",
        "ğŸ› Debug Session",
        "ğŸ¯ Key Takeaways"
      ],
      "query_patterns": {
        "forum": "How does this topic appear in forum discussions?",
        "rpg": "What RPG mechanics relate to this concept?", 
        "llm": "How do AI models process this information?",
        "display": "How is this visualized in the user interface?"
      }
    },
    "spawn_training": {
      "name": "Spawn Training Protocol",
      "type": "training",
      "cost_per_query": 15.0,
      "orchestrator_requirements": ["agent", "combat", "economy"],
      "skill_tree_integration": true,
      "description": "Train spawns through orchestrator interactions",
      "chapter_style": "kickapoo_valley",
      "lesson_structure": [
        "ğŸ¥š Spawn Initialization",
        "ğŸ“ˆ Skill Assessment",
        "âš”ï¸ Combat Training",
        "ğŸ’° Economic Education", 
        "ğŸ“ Graduation Criteria",
        "ğŸ“Š Performance Metrics"
      ],
      "training_protocols": {
        "weak_assassin_phase": {
          "requires_help": true,
          "query_other_orchestrators": true,
          "compute_cost_low": true
        },
        "demon_layer_readiness": {
          "requires_high_efficiency": true,
          "load_balancing_needed": true,
          "compute_cost_high": true
        }
      }
    },
    "economic_analysis": {
      "name": "Economic Analysis Framework", 
      "type": "analysis",
      "cost_per_query": 20.0,
      "orchestrator_requirements": ["economy", "trading", "forum"],
      "cost_breakdown_detail": true,
      "description": "Analyze economic patterns through orchestrator data",
      "chapter_style": "kickapoo_valley",
      "lesson_structure": [
        "ğŸ’¹ Market Overview",
        "ğŸ”„ Transaction Flow Analysis",
        "ğŸ“Š Cost-Benefit Modeling",
        "ğŸ² RNG Impact Assessment",
        "ğŸ† Legendary Event Economics",
        "ğŸ“ˆ Optimization Recommendations"
      ],
      "economic_metrics": [
        "compute_velocity",
        "credit_circulation",
        "legendary_event_frequency",
        "orchestrator_efficiency",
        "purple_debug_costs"
      ]
    },
    "chapter7_kickapoo_valley": {
      "name": "Chapter 7 Kickapoo Valley Style Generator",
      "type": "narrative_educational",
      "cost_per_query": 30.0,
      "orchestrator_requirements": ["story", "pdf", "billing", "auth"],
      "chapter_style": "kickapoo_valley",
      "debug_integration": true,
      "description": "Generate full Chapter 7 style educational narratives with PDF generation and billing",
      "lesson_structure": [
        "ğŸ“– Story Introduction",
        "ğŸ—ºï¸ World Building Context", 
        "ğŸ¯ Learning Quest Setup",
        "ğŸ”„ Progressive Revelation",
        "ğŸ’ Legendary Insights",
        "ğŸ“‹ Receipt Generation"
      ],
      "bridge_flow_integration": {
        "story_engine": "./chapter7-interactive-story-engine.js",
        "pdf_generator": "./chapter7-magazine-pdf-integrator.js", 
        "billing_system": "./chapter7-billing-receipt-generator.js",
        "auth_middleware": ["auth-middleware-unified.js", "gaming-auth-middleware.js"]
      },
      "narrative_elements": {
        "character_development": true,
        "world_lore_integration": true,
        "cost_as_story_element": true,
        "debug_as_character_growth": true
      }
    },
    "demon_layer_expedition": {
      "name": "Demon Layer Expedition Framework",
      "type": "advanced_training",
      "cost_per_query": 50.0,
      "orchestrator_requirements": ["combat", "agent", "reasoning", "economy"],
      "high_risk_high_reward": true,
      "description": "Advanced framework for high-level orchestrator interactions",
      "chapter_style": "kickapoo_valley",
      "lesson_structure": [
        "âš ï¸ Risk Assessment",
        "ğŸ’ª Power Level Verification", 
        "ğŸŒ€ Load Balancing Strategy",
        "âš”ï¸ Multi-Orchestrator Combat",
        "ğŸ‘‘ Boss Battle Mechanics",
        "ğŸ† Legendary Reward Distribution"
      ],
      "risk_management": {
        "compute_overload_protection": true,
        "orchestrator_circuit_breakers": true,
        "emergency_load_balancing": true,
        "purple_debug_escalation": true
      }
    }
  },
  "cost_categories": {
    "orchestrator_calls": {
      "base_cost": 5.0,
      "per_hop_multiplier": 1.5,
      "timeout_penalty": 2.0
    },
    "compute_consumption": {
      "light_analysis": 1.0,
      "deep_reasoning": 5.0,
      "purple_debug_mode": 10.0,
      "multi_orchestrator_synthesis": 15.0
    },
    "token_usage": {
      "per_1k_tokens": 0.1,
      "ai_model_premium": 0.5,
      "context_window_large": 1.0
    },
    "debug_sessions": {
      "basic_debug": 5.0,
      "purple_mode_deep_dive": 15.0,
      "orchestrator_feedback_loop": 10.0
    },
    "storage_costs": {
      "lesson_persistence": 0.5,
      "multimedia_content": 2.0,
      "pdf_generation": 3.0,
      "receipt_generation": 1.0
    }
  },
  "purple_debug_protocols": {
    "trigger_conditions": [
      "orchestrator_timeout",
      "invalid_response_format", 
      "ai_reasoning_chain_break",
      "cost_budget_exceeded",
      "circular_dependency_detected"
    ],
    "analysis_depth": {
      "surface": "Quick error identification",
      "deep": "Root cause analysis with orchestrator feedback",
      "comprehensive": "Full system state analysis with recommendations"
    },
    "ai_layer_focus": {
      "model_performance": "Analyze AI model response quality",
      "context_management": "Check context window and token usage",
      "reasoning_chains": "Validate logical flow and conclusions", 
      "orchestrator_integration": "Test inter-system communication"
    }
  },
  "chapter7_style_elements": {
    "narrative_flow": {
      "hook": "Engaging opening that presents the learning challenge",
      "exploration": "Progressive discovery through orchestrator queries",
      "conflict": "Obstacles and debugging challenges",
      "resolution": "Solutions discovered through collaboration",
      "reflection": "Cost analysis and lessons learned"
    },
    "cost_as_storytelling": {
      "compute_as_energy": "Frame computational costs as character energy",
      "orchestrator_calls_as_consultations": "Present API calls as seeking wise counsel",
      "debug_sessions_as_trials": "Purple mode as overcoming challenges",
      "efficiency_as_character_growth": "Cost optimization as skill development"
    },
    "educational_techniques": {
      "learning_by_doing": "Hands-on orchestrator interaction",
      "problem_based_learning": "Real debugging scenarios",
      "collaborative_discovery": "Multi-orchestrator knowledge synthesis",
      "reflective_analysis": "Cost-benefit evaluation and optimization"
    }
  },
  "integration_protocols": {
    "fluid_state_integration": {
      "event_emission": true,
      "state_synchronization": true,
      "real_time_updates": true
    },
    "orchestrator_discovery": {
      "auto_detection": true,
      "capability_registration": true,
      "health_monitoring": true,
      "load_balancing": true
    },
    "lesson_persistence": {
      "database_storage": true,
      "version_control": true,
      "searchable_indexing": true,
      "export_formats": ["json", "markdown", "pdf", "html"]
    }
  },
  "quality_assurance": {
    "lesson_validation": {
      "content_completeness": true,
      "cost_accuracy": true, 
      "orchestrator_response_validity": true,
      "debug_session_effectiveness": true
    },
    "performance_monitoring": {
      "response_times": true,
      "success_rates": true,
      "cost_efficiency": true,
      "user_satisfaction": true
    }
  }
}