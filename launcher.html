<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ Document Generator - Unified Launcher</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            background: linear-gradient(135deg, #0a0a0a 0%, #1a1a2e 50%, #16213e 100%);
            color: #00ff00;
            font-family: 'Courier New', monospace;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        
        .launcher-container {
            max-width: 1200px;
            width: 100%;
        }
        
        .header {
            text-align: center;
            margin-bottom: 3rem;
        }
        
        .header h1 {
            font-size: 3rem;
            margin-bottom: 1rem;
            text-shadow: 0 0 20px rgba(0, 255, 0, 0.5);
        }
        
        .status-bar {
            background: rgba(0, 255, 0, 0.1);
            border: 1px solid #00ff00;
            border-radius: 10px;
            padding: 1rem;
            margin-bottom: 2rem;
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .status-item {
            text-align: center;
        }
        
        .status-indicator {
            display: inline-block;
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin-right: 5px;
        }
        
        .status-online {
            background: #00ff00;
            box-shadow: 0 0 10px #00ff00;
        }
        
        .status-offline {
            background: #ff0000;
            box-shadow: 0 0 10px #ff0000;
        }
        
        .platforms-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .platform-card {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid rgba(0, 255, 0, 0.3);
            border-radius: 15px;
            padding: 2rem;
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .platform-card:hover {
            border-color: #00ff00;
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 255, 0, 0.3);
        }
        
        .platform-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 255, 0, 0.2), transparent);
            transition: left 0.5s;
        }
        
        .platform-card:hover::before {
            left: 100%;
        }
        
        .platform-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }
        
        .platform-title {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            color: #00ff00;
        }
        
        .platform-description {
            color: #00cc00;
            margin-bottom: 1rem;
            min-height: 3rem;
        }
        
        .platform-features {
            list-style: none;
            margin-bottom: 1rem;
        }
        
        .platform-features li {
            padding: 0.25rem 0;
            color: #00aa00;
        }
        
        .platform-features li:before {
            content: '‚úì ';
            color: #00ff00;
        }
        
        .launch-button {
            background: linear-gradient(45deg, #00ff00, #00cc00);
            color: #000;
            border: none;
            padding: 0.75rem 2rem;
            border-radius: 5px;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            transition: all 0.3s ease;
        }
        
        .launch-button:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(0, 255, 0, 0.5);
        }
        
        .quick-actions {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(0, 255, 0, 0.3);
            border-radius: 10px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .quick-actions h3 {
            margin-bottom: 1rem;
            color: #00ff00;
        }
        
        .action-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .action-button {
            background: rgba(0, 255, 0, 0.1);
            border: 1px solid #00ff00;
            color: #00ff00;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .action-button:hover {
            background: rgba(0, 255, 0, 0.2);
            transform: scale(1.05);
        }
        
        .api-status {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            border: 1px solid #00ff00;
            border-radius: 10px;
            padding: 1rem;
            max-width: 300px;
        }
        
        .api-status h4 {
            margin-bottom: 0.5rem;
            color: #00ff00;
        }
        
        .api-item {
            display: flex;
            justify-content: space-between;
            padding: 0.25rem 0;
            font-size: 0.9rem;
        }
        
        .loading {
            animation: pulse 1.5s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
    </style>
</head>
<body>
    <div class="launcher-container">
        <div class="header">
            <h1>üöÄ Document Generator Platform</h1>
            <p>Unified launcher for all your AI-powered systems</p>
        </div>
        
        <div class="status-bar">
            <div class="status-item">
                <span class="status-indicator" id="ai-status"></span>
                <span>AI Services</span>
            </div>
            <div class="status-item">
                <span class="status-indicator" id="db-status"></span>
                <span>Databases</span>
            </div>
            <div class="status-item">
                <span class="status-indicator" id="template-status"></span>
                <span>Template Engine</span>
            </div>
            <div class="status-item">
                <span class="status-indicator" id="marketplace-status"></span>
                <span>Marketplace</span>
            </div>
        </div>
        
        <div class="quick-actions">
            <h3>‚ö° Quick Actions</h3>
            <div class="action-buttons">
                <button class="action-button" onclick="checkAllServices()">üîç Check All Services</button>
                <button class="action-button" onclick="openSetup()">‚öôÔ∏è Setup Wizard</button>
                <button class="action-button" onclick="viewLogs()">üìã View Logs</button>
                <button class="action-button" onclick="stopAll()">üõë Stop All</button>
            </div>
        </div>
        
        <div class="platforms-grid">
            <!-- Empire Document Generator -->
            <div class="platform-card" onclick="launchPlatform('empire')">
                <div class="platform-icon">üè∞</div>
                <h2 class="platform-title">Empire Document Generator</h2>
                <p class="platform-description">Transform documents into working MVPs using AI-powered systems</p>
                <ul class="platform-features">
                    <li>Document to Website conversion</li>
                    <li>AI-powered code generation</li>
                    <li>Real-time revenue tracking</li>
                    <li>42 integrated services</li>
                </ul>
                <button class="launch-button">Launch Empire ‚Üí</button>
            </div>
            
            <!-- AI Agent Marketplace -->
            <div class="platform-card" onclick="launchPlatform('marketplace')">
                <div class="platform-icon">ü§ñ</div>
                <h2 class="platform-title">AI Agent Marketplace</h2>
                <p class="platform-description">Hire AI agents to complete tasks and build your projects</p>
                <ul class="platform-features">
                    <li>4 specialized AI agents</li>
                    <li>Real-time job tracking</li>
                    <li>Credit-based economy</li>
                    <li>WebSocket notifications</li>
                </ul>
                <button class="launch-button">Launch Marketplace ‚Üí</button>
            </div>
            
            <!-- Template Processor -->
            <div class="platform-card" onclick="launchPlatform('templates')">
                <div class="platform-icon">üìÑ</div>
                <h2 class="platform-title">Template Processor</h2>
                <p class="platform-description">MCP-powered template generation and processing</p>
                <ul class="platform-features">
                    <li>Document upload & analysis</li>
                    <li>Template gallery</li>
                    <li>Custom template creation</li>
                    <li>Export to multiple formats</li>
                </ul>
                <button class="launch-button">Launch Templates ‚Üí</button>
            </div>
            
            <!-- System Dashboard -->
            <div class="platform-card" onclick="launchPlatform('dashboard')">
                <div class="platform-icon">üìä</div>
                <h2 class="platform-title">System Dashboard</h2>
                <p class="platform-description">Monitor and control all running services</p>
                <ul class="platform-features">
                    <li>Service health monitoring</li>
                    <li>Real-time metrics</li>
                    <li>Log aggregation</li>
                    <li>Performance analytics</li>
                </ul>
                <button class="launch-button">Launch Dashboard ‚Üí</button>
            </div>
        </div>
    </div>
    
    <div class="api-status" id="api-status">
        <h4>üîë API Keys Status</h4>
        <div class="api-item">
            <span>OpenAI</span>
            <span id="openai-status">Checking...</span>
        </div>
        <div class="api-item">
            <span>Anthropic</span>
            <span id="anthropic-status">Checking...</span>
        </div>
        <div class="api-item">
            <span>Stripe</span>
            <span id="stripe-status">Checking...</span>
        </div>
        <div class="api-item">
            <span>Ollama</span>
            <span id="ollama-status">Checking...</span>
        </div>
    </div>
    
    <script>
        // Platform URLs
        const platforms = {
            empire: 'http://localhost:8080',
            marketplace: 'http://localhost:8080/agent-working.html',
            templates: 'http://localhost:3000',
            dashboard: 'http://localhost:8080/dashboard.html'
        };
        
        // Service endpoints
        const services = {
            ai: 'http://localhost:3001/health',
            template: 'http://localhost:3000/',
            marketplace: 'http://localhost:8080/health',
            ollama: 'http://localhost:11434/api/tags'
        };
        
        // Check service status
        async function checkService(url) {
            try {
                const response = await fetch(url, { 
                    method: 'GET',
                    mode: 'no-cors',
                    cache: 'no-cache'
                });
                return true; // If no CORS error, service is up
            } catch (error) {
                // Try with normal fetch
                try {
                    const response = await fetch(url);
                    return response.ok;
                } catch {
                    return false;
                }
            }
        }
        
        // Update status indicators
        async function updateStatus() {
            // AI Service
            const aiOnline = await checkService(services.ai);
            document.getElementById('ai-status').className = 
                `status-indicator ${aiOnline ? 'status-online' : 'status-offline'}`;
            
            // Template Processor
            const templateOnline = await checkService(services.template);
            document.getElementById('template-status').className = 
                `status-indicator ${templateOnline ? 'status-online' : 'status-offline'}`;
            
            // Marketplace
            const marketplaceOnline = await checkService(services.marketplace);
            document.getElementById('marketplace-status').className = 
                `status-indicator ${marketplaceOnline ? 'status-online' : 'status-offline'}`;
            
            // Databases (check if PostgreSQL is responding)
            const dbOnline = await checkDatabases();
            document.getElementById('db-status').className = 
                `status-indicator ${dbOnline ? 'status-online' : 'status-offline'}`;
            
            // Check API keys
            checkAPIKeys();
        }
        
        // Check database status
        async function checkDatabases() {
            // For now, assume DBs are running if services are up
            // In production, check actual DB connections
            return true;
        }
        
        // Check API key status
        async function checkAPIKeys() {
            try {
                const response = await fetch('http://localhost:3001/api/models');
                const data = await response.json();
                
                // Update API status display
                document.getElementById('openai-status').textContent = 
                    data.openai ? '‚úì Configured' : '‚úó Missing';
                document.getElementById('anthropic-status').textContent = 
                    data.anthropic ? '‚úì Configured' : '‚úó Missing';
                document.getElementById('stripe-status').textContent = 
                    '‚úì Test Mode'; // Always in test mode for now
                document.getElementById('ollama-status').textContent = 
                    data.ollama ? '‚úì Running' : '‚úó Not Found';
            } catch {
                // Fallback status
                document.getElementById('openai-status').textContent = '? Unknown';
                document.getElementById('anthropic-status').textContent = '? Unknown';
                document.getElementById('stripe-status').textContent = '? Unknown';
                document.getElementById('ollama-status').textContent = '? Unknown';
            }
        }
        
        // Launch platform
        function launchPlatform(platform) {
            const url = platforms[platform];
            if (url) {
                window.open(url, '_blank');
            }
        }
        
        // Quick actions
        function checkAllServices() {
            updateStatus();
            alert('Service check complete! Check the status indicators.');
        }
        
        function openSetup() {
            window.open('/setup-wizard.html', '_blank');
        }
        
        function viewLogs() {
            window.open('/logs/', '_blank');
        }
        
        function stopAll() {
            if (confirm('Stop all services? You will need to restart them manually.')) {
                fetch('/api/stop-all', { method: 'POST' })
                    .then(() => alert('Stop command sent'))
                    .catch(() => alert('Could not stop services. Use terminal: pkill -f node'));
            }
        }
        
        // Initialize on load
        window.addEventListener('load', () => {
            updateStatus();
            // Refresh status every 10 seconds
            setInterval(updateStatus, 10000);
        });
        
        // Add keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey || e.metaKey) {
                switch(e.key) {
                    case '1': launchPlatform('empire'); break;
                    case '2': launchPlatform('marketplace'); break;
                    case '3': launchPlatform('templates'); break;
                    case '4': launchPlatform('dashboard'); break;
                    case 'r': updateStatus(); break;
                }
            }
        });
    </script>
</body>
</html>