<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🔮📡 Quantum Wiki Streaming Interface</title>
    <style>
        /* Quantum-inspired design system */
        :root {
            --quantum-blue: #00ffff;
            --quantum-purple: #ff00ff;
            --quantum-green: #00ff00;
            --quantum-yellow: #ffff00;
            --dark-bg: #0a0a0a;
            --card-bg: #1a1a1a;
            --text-primary: #ffffff;
            --text-secondary: #cccccc;
            --border-glow: rgba(0, 255, 255, 0.5);
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Courier New', monospace;
            background: var(--dark-bg);
            color: var(--text-primary);
            overflow-x: hidden;
            position: relative;
        }

        /* Quantum particle background */
        #quantum-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: var(--quantum-blue);
            border-radius: 50%;
            opacity: 0;
            animation: particle-float 10s infinite;
        }

        @keyframes particle-float {
            0% {
                opacity: 0;
                transform: translateY(100vh) rotate(0deg);
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                opacity: 0;
                transform: translateY(-100vh) rotate(720deg);
            }
        }

        /* Main container */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 2;
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
        }

        .header h1 {
            font-size: 2.5em;
            background: linear-gradient(45deg, var(--quantum-blue), var(--quantum-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px rgba(0, 255, 255, 0.5);
            margin-bottom: 10px;
        }

        .header p {
            color: var(--text-secondary);
            font-size: 1.1em;
        }

        /* Face ID authentication panel */
        .auth-panel {
            background: var(--card-bg);
            border: 1px solid var(--border-glow);
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
            position: relative;
            overflow: hidden;
        }

        .auth-panel::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, var(--quantum-blue), var(--quantum-purple), var(--quantum-green));
            border-radius: 10px;
            opacity: 0.5;
            z-index: -1;
            animation: border-rotate 3s linear infinite;
        }

        @keyframes border-rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .face-scanner {
            width: 200px;
            height: 200px;
            margin: 20px auto;
            position: relative;
            border: 2px solid var(--quantum-blue);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .scanner-line {
            position: absolute;
            width: 100%;
            height: 2px;
            background: linear-gradient(90deg, transparent, var(--quantum-green), transparent);
            animation: scan 2s infinite;
        }

        @keyframes scan {
            0% { top: 0; }
            50% { top: calc(100% - 2px); }
            100% { top: 0; }
        }

        .face-icon {
            font-size: 4em;
            opacity: 0.5;
        }

        .auth-button {
            background: linear-gradient(45deg, var(--quantum-blue), var(--quantum-purple));
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 5px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s;
            display: block;
            margin: 20px auto;
            position: relative;
            overflow: hidden;
        }

        .auth-button:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 20px rgba(0, 255, 255, 0.5);
        }

        .auth-button:active {
            transform: scale(0.95);
        }

        .auth-status {
            text-align: center;
            margin-top: 20px;
            font-size: 1.1em;
        }

        .auth-status.authenticated {
            color: var(--quantum-green);
        }

        .auth-status.failed {
            color: #ff4444;
        }

        /* Wiki content area */
        .wiki-container {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 20px;
            opacity: 0;
            transition: opacity 0.5s;
        }

        .wiki-container.active {
            opacity: 1;
        }

        /* Wiki categories sidebar */
        .wiki-sidebar {
            background: var(--card-bg);
            border: 1px solid var(--border-glow);
            border-radius: 10px;
            padding: 20px;
            height: fit-content;
        }

        .wiki-sidebar h3 {
            color: var(--quantum-blue);
            margin-bottom: 15px;
        }

        .category-list {
            list-style: none;
        }

        .category-item {
            padding: 10px;
            margin: 5px 0;
            border: 1px solid transparent;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .category-item:hover {
            border-color: var(--quantum-blue);
            background: rgba(0, 255, 255, 0.1);
        }

        .category-item.active {
            background: rgba(0, 255, 255, 0.2);
            border-color: var(--quantum-blue);
        }

        /* Wiki content display */
        .wiki-content {
            background: var(--card-bg);
            border: 1px solid var(--border-glow);
            border-radius: 10px;
            padding: 30px;
            min-height: 500px;
            position: relative;
        }

        .wiki-entry {
            display: none;
        }

        .wiki-entry.active {
            display: block;
        }

        .wiki-entry h2 {
            color: var(--quantum-purple);
            margin-bottom: 20px;
            font-size: 2em;
        }

        .wiki-entry-content {
            line-height: 1.6;
            color: var(--text-secondary);
            position: relative;
        }

        /* Information leaking effect */
        .leaking-text {
            position: relative;
            overflow: hidden;
        }

        .leaking-text::before {
            content: attr(data-text);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(180deg, transparent 0%, var(--card-bg) 100%);
            animation: leak 5s forwards;
        }

        @keyframes leak {
            0% { transform: translateY(0); }
            100% { transform: translateY(100%); }
        }

        /* Quantum visualization */
        .quantum-viz {
            width: 100%;
            height: 300px;
            margin: 20px 0;
            border: 1px solid var(--border-glow);
            border-radius: 5px;
            position: relative;
            overflow: hidden;
            background: radial-gradient(circle at center, rgba(0, 255, 255, 0.1), transparent);
        }

        /* Sprite display */
        .sprite-container {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
        }

        .wiki-sprite {
            width: 128px;
            height: 128px;
            image-rendering: pixelated;
            filter: drop-shadow(0 0 10px var(--quantum-blue));
            animation: sprite-float 3s ease-in-out infinite;
        }

        @keyframes sprite-float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        /* 3D model viewer */
        .model-viewer {
            width: 100%;
            height: 400px;
            background: #000;
            border: 1px solid var(--border-glow);
            border-radius: 5px;
            margin: 20px 0;
            position: relative;
        }

        /* Control panel */
        .control-panel {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--card-bg);
            border: 1px solid var(--border-glow);
            border-radius: 10px;
            padding: 20px;
            z-index: 100;
        }

        .control-panel h4 {
            color: var(--quantum-yellow);
            margin-bottom: 15px;
        }

        .channel-control {
            margin: 10px 0;
        }

        .channel-control label {
            display: flex;
            align-items: center;
            cursor: pointer;
        }

        .channel-control input[type="checkbox"] {
            margin-right: 10px;
            cursor: pointer;
        }

        .channel-status {
            margin-left: auto;
            font-size: 0.9em;
            color: var(--quantum-green);
        }

        /* Status indicators */
        .status-bar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(26, 26, 26, 0.9);
            border-bottom: 1px solid var(--border-glow);
            padding: 10px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        .status-item {
            display: flex;
            align-items: center;
            margin: 0 15px;
        }

        .status-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            margin-right: 10px;
            background: var(--quantum-green);
            box-shadow: 0 0 10px currentColor;
        }

        .status-indicator.warning {
            background: var(--quantum-yellow);
        }

        .status-indicator.error {
            background: #ff4444;
        }

        /* Loading animation */
        .loading {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 1000;
        }

        .loading-spinner {
            width: 100px;
            height: 100px;
            border: 3px solid transparent;
            border-top-color: var(--quantum-blue);
            border-right-color: var(--quantum-purple);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* Honeypot warning */
        .honeypot-warning {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: #ff0000;
            color: white;
            padding: 30px;
            border-radius: 10px;
            font-size: 1.5em;
            display: none;
            z-index: 9999;
            animation: warning-flash 0.5s infinite;
        }

        @keyframes warning-flash {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .wiki-container {
                grid-template-columns: 1fr;
            }
            
            .wiki-sidebar {
                order: 2;
            }
            
            .control-panel {
                bottom: 10px;
                right: 10px;
                left: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Quantum particle background -->
    <div id="quantum-particles"></div>

    <!-- Status bar -->
    <div class="status-bar">
        <div class="status-item">
            <span class="status-indicator" id="connection-status"></span>
            <span>Connection: <span id="connection-text">Disconnected</span></span>
        </div>
        <div class="status-item">
            <span class="status-indicator" id="quantum-status"></span>
            <span>Quantum State: <span id="quantum-text">Superposition</span></span>
        </div>
        <div class="status-item">
            <span class="status-indicator" id="security-status"></span>
            <span>Security: <span id="security-text">Protected</span></span>
        </div>
    </div>

    <!-- Main container -->
    <div class="container">
        <!-- Header -->
        <div class="header">
            <h1>Quantum Wiki Streaming Interface</h1>
            <p>Secure information access through quantum channels</p>
        </div>

        <!-- Face ID authentication panel -->
        <div class="auth-panel" id="auth-panel">
            <h2>🔐 Biometric Authentication Required</h2>
            <div class="face-scanner">
                <div class="scanner-line"></div>
                <div class="face-icon">👤</div>
            </div>
            <button class="auth-button" id="auth-button">Authenticate with Face ID</button>
            <div class="auth-status" id="auth-status">Please authenticate to access quantum wiki</div>
        </div>

        <!-- Wiki container (hidden until authenticated) -->
        <div class="wiki-container" id="wiki-container">
            <!-- Sidebar -->
            <div class="wiki-sidebar">
                <h3>📚 Knowledge Categories</h3>
                <ul class="category-list" id="category-list">
                    <li class="category-item" data-category="quantum_physics">🔮 Quantum Physics</li>
                    <li class="category-item" data-category="mathematics">📐 Mathematics</li>
                    <li class="category-item" data-category="cryptography">🔒 Cryptography</li>
                    <li class="category-item" data-category="gaming_economy">🎮 Gaming Economy</li>
                    <li class="category-item" data-category="blockchain">⛓️ Blockchain</li>
                    <li class="category-item" data-category="temporal_mechanics">⏰ Temporal Mechanics</li>
                    <li class="category-item" data-category="consciousness">🧠 Consciousness</li>
                </ul>
            </div>

            <!-- Wiki content -->
            <div class="wiki-content" id="wiki-content">
                <div class="wiki-entry" id="entry-placeholder">
                    <h2>Select a Category</h2>
                    <p>Choose a knowledge category from the sidebar to begin exploring the quantum wiki.</p>
                    <div class="quantum-viz" id="quantum-viz">
                        <canvas id="quantum-canvas"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Control panel -->
    <div class="control-panel">
        <h4>📡 Channel Control</h4>
        <div class="channel-control">
            <label>
                <input type="checkbox" id="channel-wiki" checked>
                <span>Wiki Stream</span>
                <span class="channel-status" id="status-wiki">100 bps</span>
            </label>
        </div>
        <div class="channel-control">
            <label>
                <input type="checkbox" id="channel-models" checked>
                <span>3D Models</span>
                <span class="channel-status" id="status-models">50 bps</span>
            </label>
        </div>
        <div class="channel-control">
            <label>
                <input type="checkbox" id="channel-sprites" checked>
                <span>Sprite Render</span>
                <span class="channel-status" id="status-sprites">75 bps</span>
            </label>
        </div>
    </div>

    <!-- Loading spinner -->
    <div class="loading" id="loading" style="display: none;">
        <div class="loading-spinner"></div>
        <p style="margin-top: 20px;">Establishing quantum connection...</p>
    </div>

    <!-- Honeypot warning -->
    <div class="honeypot-warning" id="honeypot-warning">
        ⚠️ SECURITY VIOLATION DETECTED ⚠️
    </div>

    <script>
        // Quantum Wiki Interface Controller
        class QuantumWikiInterface {
            constructor() {
                this.ws = null;
                this.authenticated = false;
                this.sessionId = null;
                this.activeStreams = new Map();
                this.quantumState = 'superposition';
                
                this.initializeInterface();
                this.createQuantumParticles();
                this.setupEventListeners();
            }
            
            initializeInterface() {
                // Initialize canvas for quantum visualization
                const canvas = document.getElementById('quantum-canvas');
                if (canvas) {
                    canvas.width = canvas.parentElement.offsetWidth;
                    canvas.height = canvas.parentElement.offsetHeight;
                    this.ctx = canvas.getContext('2d');
                    this.animateQuantumField();
                }
            }
            
            createQuantumParticles() {
                const particleContainer = document.getElementById('quantum-particles');
                const particleCount = 50;
                
                for (let i = 0; i < particleCount; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'particle';
                    particle.style.left = Math.random() * 100 + '%';
                    particle.style.animationDelay = Math.random() * 10 + 's';
                    particle.style.animationDuration = (10 + Math.random() * 10) + 's';
                    
                    // Random color
                    const colors = ['#00ffff', '#ff00ff', '#00ff00', '#ffff00'];
                    particle.style.background = colors[Math.floor(Math.random() * colors.length)];
                    particle.style.boxShadow = `0 0 6px ${particle.style.background}`;
                    
                    particleContainer.appendChild(particle);
                }
            }
            
            setupEventListeners() {
                // Authentication button
                document.getElementById('auth-button').addEventListener('click', () => {
                    this.authenticate();
                });
                
                // Category selection
                document.querySelectorAll('.category-item').forEach(item => {
                    item.addEventListener('click', (e) => {
                        this.selectCategory(e.target.dataset.category);
                    });
                });
                
                // Channel controls
                ['wiki', 'models', 'sprites'].forEach(channel => {
                    document.getElementById(`channel-${channel}`).addEventListener('change', (e) => {
                        this.toggleChannel(channel, e.target.checked);
                    });
                });
            }
            
            async authenticate() {
                const authButton = document.getElementById('auth-button');
                const authStatus = document.getElementById('auth-status');
                
                authButton.disabled = true;
                authButton.textContent = 'Scanning...';
                authStatus.textContent = 'Performing biometric scan...';
                authStatus.className = 'auth-status';
                
                // Simulate Face ID scan
                await this.simulateFaceScan();
                
                try {
                    // Connect to WebSocket
                    await this.connectWebSocket();
                    
                    // Send authentication request
                    const authResult = await this.sendAuthentication();
                    
                    if (authResult.success) {
                        this.authenticated = true;
                        this.sessionId = authResult.sessionId;
                        
                        authStatus.textContent = 'Authentication successful!';
                        authStatus.className = 'auth-status authenticated';
                        
                        setTimeout(() => {
                            document.getElementById('auth-panel').style.display = 'none';
                            document.getElementById('wiki-container').className = 'wiki-container active';
                        }, 1000);
                    } else {
                        throw new Error('Authentication failed');
                    }
                } catch (error) {
                    authStatus.textContent = 'Authentication failed: ' + error.message;
                    authStatus.className = 'auth-status failed';
                    authButton.disabled = false;
                    authButton.textContent = 'Retry Authentication';
                }
            }
            
            async simulateFaceScan() {
                // Simulate face scanning animation
                return new Promise(resolve => {
                    const scanner = document.querySelector('.face-scanner');
                    scanner.style.borderColor = '#00ff00';
                    
                    setTimeout(() => {
                        scanner.style.borderColor = '#00ffff';
                        resolve();
                    }, 2000);
                });
            }
            
            async connectWebSocket() {
                return new Promise((resolve, reject) => {
                    this.ws = new WebSocket('ws://localhost:7779/blockchain-fighters/wallet-mirror-broadcast/ws');
                    
                    this.ws.onopen = () => {
                        console.log('WebSocket connected');
                        document.getElementById('connection-status').style.background = '#00ff00';
                        document.getElementById('connection-text').textContent = 'Connected';
                        resolve();
                    };
                    
                    this.ws.onerror = (error) => {
                        console.error('WebSocket error:', error);
                        reject(error);
                    };
                    
                    this.ws.onmessage = (event) => {
                        this.handleWebSocketMessage(JSON.parse(event.data));
                    };
                    
                    this.ws.onclose = () => {
                        document.getElementById('connection-status').style.background = '#ff4444';
                        document.getElementById('connection-text').textContent = 'Disconnected';
                    };
                });
            }
            
            async sendAuthentication() {
                return new Promise((resolve) => {
                    // Simulate biometric data
                    const biometricData = {
                        userId: 'demo_user',
                        faceVector: new Array(512).fill(0).map(() => Math.random()),
                        irisPattern: new Array(256).fill(0).map(() => Math.random()),
                        timestamp: Date.now(),
                        blinkPattern: [100, 200, 150],
                        microMovements: 0.02,
                        depthData: { variance: 0.08 },
                        temperature: 36.5
                    };
                    
                    this.ws.send(JSON.stringify({
                        type: 'authenticate',
                        biometricData: biometricData
                    }));
                    
                    // For demo, simulate successful auth
                    setTimeout(() => {
                        resolve({
                            success: true,
                            sessionId: 'demo_session_' + Date.now()
                        });
                    }, 1000);
                });
            }
            
            handleWebSocketMessage(message) {
                switch (message.type) {
                    case 'stream_data':
                        this.handleStreamData(message);
                        break;
                    case 'quantum_state':
                        this.updateQuantumState(message.state);
                        break;
                    case 'security_alert':
                        this.handleSecurityAlert(message);
                        break;
                }
            }
            
            selectCategory(category) {
                // Update UI
                document.querySelectorAll('.category-item').forEach(item => {
                    item.classList.remove('active');
                });
                document.querySelector(`[data-category="${category}"]`).classList.add('active');
                
                // Request wiki entry
                if (this.ws && this.authenticated) {
                    this.ws.send(JSON.stringify({
                        type: 'request_wiki',
                        sessionId: this.sessionId,
                        category: category,
                        entryId: `${category}_intro`
                    }));
                }
                
                // Show loading
                this.showWikiLoading(category);
            }
            
            showWikiLoading(category) {
                const content = document.getElementById('wiki-content');
                content.innerHTML = `
                    <div class="wiki-entry active">
                        <h2>Loading ${category.replace('_', ' ')}...</h2>
                        <div class="sprite-container">
                            <canvas class="wiki-sprite" id="loading-sprite"></canvas>
                        </div>
                        <div class="wiki-entry-content">
                            <p class="leaking-text" data-text="Information leaking through quantum channels...">
                                Information leaking through quantum channels...
                            </p>
                        </div>
                    </div>
                `;
                
                this.animateLoadingSprite();
            }
            
            animateLoadingSprite() {
                const canvas = document.getElementById('loading-sprite');
                if (!canvas) return;
                
                const ctx = canvas.getContext('2d');
                canvas.width = 128;
                canvas.height = 128;
                
                let frame = 0;
                const animate = () => {
                    ctx.clearRect(0, 0, 128, 128);
                    
                    // Draw quantum orb
                    const centerX = 64;
                    const centerY = 64;
                    const radius = 30 + Math.sin(frame * 0.05) * 10;
                    
                    // Glow effect
                    const gradient = ctx.createRadialGradient(centerX, centerY, 0, centerX, centerY, radius * 2);
                    gradient.addColorStop(0, 'rgba(0, 255, 255, 1)');
                    gradient.addColorStop(0.5, 'rgba(0, 255, 255, 0.5)');
                    gradient.addColorStop(1, 'rgba(0, 255, 255, 0)');
                    
                    ctx.fillStyle = gradient;
                    ctx.fillRect(0, 0, 128, 128);
                    
                    // Core orb
                    ctx.beginPath();
                    ctx.arc(centerX, centerY, radius, 0, Math.PI * 2);
                    ctx.fillStyle = '#00ffff';
                    ctx.fill();
                    
                    // Quantum particles
                    for (let i = 0; i < 5; i++) {
                        const angle = (frame * 0.02) + (i * Math.PI * 2 / 5);
                        const x = centerX + Math.cos(angle) * (radius + 20);
                        const y = centerY + Math.sin(angle) * (radius + 20);
                        
                        ctx.beginPath();
                        ctx.arc(x, y, 3, 0, Math.PI * 2);
                        ctx.fillStyle = '#ff00ff';
                        ctx.fill();
                    }
                    
                    frame++;
                    requestAnimationFrame(animate);
                };
                
                animate();
            }
            
            animateQuantumField() {
                if (!this.ctx) return;
                
                const width = this.ctx.canvas.width;
                const height = this.ctx.canvas.height;
                let time = 0;
                
                const animate = () => {
                    this.ctx.clearRect(0, 0, width, height);
                    
                    // Draw quantum field lines
                    this.ctx.strokeStyle = 'rgba(0, 255, 255, 0.2)';
                    this.ctx.lineWidth = 1;
                    
                    for (let i = 0; i < 20; i++) {
                        this.ctx.beginPath();
                        
                        for (let x = 0; x < width; x += 5) {
                            const y = height / 2 + 
                                     Math.sin((x + time) * 0.01 + i) * 30 * 
                                     Math.sin(time * 0.005 + i * 0.5);
                            
                            if (x === 0) {
                                this.ctx.moveTo(x, y);
                            } else {
                                this.ctx.lineTo(x, y);
                            }
                        }
                        
                        this.ctx.stroke();
                    }
                    
                    time++;
                    requestAnimationFrame(animate);
                };
                
                animate();
            }
            
            toggleChannel(channel, enabled) {
                if (this.ws && this.authenticated) {
                    this.ws.send(JSON.stringify({
                        type: 'toggle_channel',
                        sessionId: this.sessionId,
                        channel: channel,
                        enabled: enabled
                    }));
                }
                
                // Update UI
                const status = document.getElementById(`status-${channel}`);
                status.style.color = enabled ? '#00ff00' : '#ff4444';
                status.textContent = enabled ? `${this.getChannelRate(channel)} bps` : 'Disabled';
            }
            
            getChannelRate(channel) {
                const rates = {
                    wiki: 100,
                    models: 50,
                    sprites: 75
                };
                return rates[channel] || 0;
            }
            
            updateQuantumState(state) {
                this.quantumState = state;
                document.getElementById('quantum-text').textContent = state;
                
                // Update indicator color based on state
                const indicator = document.getElementById('quantum-status');
                switch (state) {
                    case 'superposition':
                        indicator.style.background = '#00ffff';
                        break;
                    case 'entangled':
                        indicator.style.background = '#ff00ff';
                        break;
                    case 'collapsed':
                        indicator.style.background = '#ffff00';
                        break;
                }
            }
            
            handleSecurityAlert(alert) {
                console.warn('Security alert:', alert);
                
                const securityStatus = document.getElementById('security-status');
                const securityText = document.getElementById('security-text');
                
                securityStatus.style.background = '#ff4444';
                securityText.textContent = 'Threat Detected';
                
                // Flash warning for honeypot triggers
                if (alert.type === 'honeypot_triggered') {
                    const warning = document.getElementById('honeypot-warning');
                    warning.style.display = 'block';
                    
                    setTimeout(() => {
                        warning.style.display = 'none';
                    }, 3000);
                }
                
                // Reset after delay
                setTimeout(() => {
                    securityStatus.style.background = '#00ff00';
                    securityText.textContent = 'Protected';
                }, 5000);
            }
            
            handleStreamData(message) {
                // Handle incoming stream data
                if (message.data.type === 'content_leak') {
                    this.displayLeakedContent(message.data);
                }
            }
            
            displayLeakedContent(data) {
                // Update wiki content with leaked information
                const content = document.querySelector('.wiki-entry-content');
                if (content) {
                    // Simulate gradual reveal
                    const progress = data.progress * 100;
                    content.style.background = `linear-gradient(180deg, 
                        transparent ${progress}%, 
                        var(--card-bg) ${progress}%)`;
                }
            }
        }
        
        // Initialize interface when page loads
        window.addEventListener('DOMContentLoaded', () => {
            window.quantumWiki = new QuantumWikiInterface();
        });
        
        // Prevent right-click and inspect
        document.addEventListener('contextmenu', (e) => {
            e.preventDefault();
            console.warn('Context menu disabled for security');
            return false;
        });
        
        // Detect developer tools
        let devtools = { open: false, orientation: null };
        const threshold = 160;
        
        setInterval(() => {
            if (window.outerHeight - window.innerHeight > threshold || 
                window.outerWidth - window.innerWidth > threshold) {
                if (!devtools.open) {
                    devtools.open = true;
                    console.warn('Developer tools detected!');
                    document.body.style.display = 'none';
                    alert('Security violation: Developer tools detected');
                }
            } else {
                devtools.open = false;
                document.body.style.display = 'block';
            }
        }, 500);
    </script>
</body>
</html>