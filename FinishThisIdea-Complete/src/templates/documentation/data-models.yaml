id: data-models
name: Data Models
description: Database schemas and data structures documentation
requiredAnalysis:
  - dataModels
  - projectInfo
sections:
  - id: overview
    title: Data Architecture Overview
    template: |
      ## Data Architecture
      
      This document describes the data models and database schema for {{projectName}}.
      
      **Database Type**: {{databaseType}}
      **Total Models**: {{modelCount}}
      **Primary Entities**: {{primaryEntities}}
    dataMapping:
      - placeholder: "{{projectName}}"
        source: "projectInfo.name"
      - placeholder: "{{databaseType}}"
        source: "dataModels[0].type"
        default: "Relational Database"
      - placeholder: "{{modelCount}}"
        source: "dataModels.length"
      - placeholder: "{{primaryEntities}}"
        source: "dataModels"
        transform: "listPrimaryEntities"
  
  - id: entity-relationship
    title: Entity Relationship Diagram
    template: |
      ## Entity Relationships
      
      {{erdDiagram}}
      
      ## Relationship Summary
      {{relationshipSummary}}
    dataMapping:
      - placeholder: "{{erdDiagram}}"
        source: "dataModels"
        transform: "generateERDiagram"
      - placeholder: "{{relationshipSummary}}"
        source: "dataModels"
        transform: "summarizeRelationships"
    aiPrompt: "Create a textual representation of the entity relationships and explain the key relationships between data models."
  
  - id: schemas
    title: Database Schemas
    template: |
      ## Database Schema Details
      
      {{schemaDetails}}
    dataMapping:
      - placeholder: "{{schemaDetails}}"
        source: "dataModels"
        transform: "generateSchemaDetails"
  
  - id: field-definitions
    title: Field Definitions
    template: |
      ## Field Definitions
      
      {{fieldTables}}
      
      ## Data Validation Rules
      {{validationRules}}
    dataMapping:
      - placeholder: "{{fieldTables}}"
        source: "dataModels"
        transform: "generateFieldTables"
      - placeholder: "{{validationRules}}"
        source: "dataModels"
        transform: "extractValidationRules"
  
  - id: indexes
    title: Indexes and Performance
    template: |
      ## Database Indexes
      
      {{indexList}}
      
      ## Query Optimization Notes
      {{optimizationNotes}}
    dataMapping:
      - placeholder: "{{indexList}}"
        source: "dataModels"
        transform: "listIndexes"
      - placeholder: "{{optimizationNotes}}"
        source: "dataModels"
        transform: "generateOptimizationNotes"
    aiPrompt: "Based on the data models and relationships, suggest appropriate database indexes and query optimization strategies."