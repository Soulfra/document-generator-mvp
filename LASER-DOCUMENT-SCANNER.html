<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Laser Document Scanner - AI World Generator</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #000000, #1a1a1a, #2a2a0a);
            color: #FFD700;
            font-family: 'Orbitron', monospace;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Premium Gold Theme */
        :root {
            --gold-primary: #FFD700;
            --gold-accent: #FFA500;
            --gold-dark: #B8860B;
            --gold-light: #FFFFE0;
            --cyber-cyan: #00ffff;
            --cyber-pink: #ff0080;
            --cyber-green: #00ff88;
        }

        /* Main container */
        .scanner-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
        }

        /* Header */
        .scanner-header {
            text-align: center;
            margin-bottom: 40px;
            position: relative;
        }

        .scanner-title {
            font-size: 3rem;
            font-weight: 900;
            background: linear-gradient(45deg, var(--gold-primary), var(--cyber-cyan));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 30px var(--gold-primary);
            margin-bottom: 20px;
            animation: titlePulse 3s ease-in-out infinite alternate;
        }

        @keyframes titlePulse {
            0% { filter: brightness(1); }
            100% { filter: brightness(1.3); }
        }

        .scanner-subtitle {
            font-size: 1.2rem;
            color: var(--gold-light);
            margin-bottom: 30px;
        }

        /* Scanning Area */
        .scan-area {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 30px;
            margin-bottom: 40px;
        }

        .document-zone {
            background: linear-gradient(135deg, #1a1a1a, #2a2a2a);
            border: 3px dashed var(--gold-primary);
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            position: relative;
            min-height: 400px;
            transition: all 0.3s;
            cursor: pointer;
        }

        .document-zone:hover {
            background: linear-gradient(135deg, #2a2a1a, #3a3a2a);
            border-color: var(--gold-accent);
            transform: scale(1.02);
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.3);
        }

        .document-zone.scanning {
            background: linear-gradient(135deg, #2a2a1a, #1a3a1a);
            border-color: var(--cyber-green);
            animation: scanningPulse 1s ease-in-out infinite alternate;
        }

        @keyframes scanningPulse {
            0% { box-shadow: 0 0 20px var(--cyber-green); }
            100% { box-shadow: 0 0 60px var(--cyber-green), 0 0 100px rgba(0, 255, 136, 0.3); }
        }

        .upload-icon {
            font-size: 4rem;
            color: var(--gold-primary);
            margin-bottom: 20px;
            display: block;
        }

        .upload-text {
            font-size: 1.3rem;
            color: var(--gold-light);
            margin-bottom: 15px;
        }

        .upload-subtext {
            color: #999;
            font-size: 0.9rem;
        }

        /* Control Panel */
        .control-panel {
            background: linear-gradient(135deg, #1a1a1a, #2a2a0a);
            border: 2px solid var(--gold-primary);
            border-radius: 15px;
            padding: 25px;
            backdrop-filter: blur(10px);
        }

        .panel-title {
            color: var(--gold-primary);
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: center;
        }

        .control-group {
            margin-bottom: 20px;
        }

        .control-label {
            color: var(--gold-light);
            font-size: 0.9rem;
            margin-bottom: 8px;
            display: block;
        }

        .control-input {
            width: 100%;
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid var(--gold-dark);
            border-radius: 8px;
            padding: 10px;
            color: var(--gold-light);
            font-family: 'Orbitron', monospace;
            transition: all 0.3s;
        }

        .control-input:focus {
            border-color: var(--gold-primary);
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
            outline: none;
        }

        .scan-button {
            width: 100%;
            background: linear-gradient(45deg, var(--gold-primary), var(--gold-accent));
            border: none;
            border-radius: 12px;
            padding: 15px;
            font-size: 1.1rem;
            font-weight: bold;
            color: #000;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
            font-family: 'Orbitron', monospace;
        }

        .scan-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 25px rgba(255, 215, 0, 0.6);
        }

        .scan-button:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        /* Laser Scanner Effect */
        .laser-scanner {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            overflow: hidden;
            border-radius: 20px;
        }

        .laser-beam {
            position: absolute;
            width: 2px;
            height: 100%;
            background: linear-gradient(to bottom, 
                transparent, 
                var(--cyber-cyan) 20%, 
                var(--gold-primary) 50%, 
                var(--cyber-green) 80%, 
                transparent
            );
            box-shadow: 0 0 10px var(--cyber-cyan);
            animation: laserSweep 3s linear infinite;
            opacity: 0;
        }

        .laser-beam.active {
            opacity: 1;
        }

        @keyframes laserSweep {
            0% { left: -2px; }
            100% { left: 100%; }
        }

        .scan-grid {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(var(--cyber-cyan) 1px, transparent 1px),
                linear-gradient(90deg, var(--cyber-cyan) 1px, transparent 1px);
            background-size: 20px 20px;
            opacity: 0;
            transition: opacity 0.5s;
        }

        .scan-grid.active {
            opacity: 0.3;
            animation: gridPulse 2s ease-in-out infinite alternate;
        }

        @keyframes gridPulse {
            0% { opacity: 0.2; }
            100% { opacity: 0.5; }
        }

        /* Results Panel */
        .results-panel {
            background: linear-gradient(135deg, #1a1a1a, #2a1a2a);
            border: 2px solid var(--cyber-pink);
            border-radius: 15px;
            padding: 25px;
            margin-top: 30px;
            display: none;
        }

        .results-panel.active {
            display: block;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .results-title {
            color: var(--cyber-pink);
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: center;
        }

        .results-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .result-item {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid var(--cyber-pink);
            border-radius: 8px;
            padding: 15px;
        }

        .result-label {
            color: var(--cyber-pink);
            font-size: 0.9rem;
            margin-bottom: 5px;
        }

        .result-value {
            color: var(--gold-light);
            font-weight: bold;
            font-size: 1.1rem;
        }

        .extracted-text {
            background: rgba(0, 0, 0, 0.7);
            border: 1px solid var(--gold-dark);
            border-radius: 8px;
            padding: 15px;
            max-height: 200px;
            overflow-y: auto;
            font-size: 0.9rem;
            line-height: 1.5;
            color: var(--gold-light);
            white-space: pre-wrap;
        }

        /* Generated World Preview */
        .world-preview {
            background: linear-gradient(135deg, #1a1a2a, #2a1a1a);
            border: 2px solid var(--cyber-green);
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            display: none;
        }

        .world-preview.active {
            display: block;
            animation: slideIn 0.5s ease-out 0.3s both;
        }

        .world-title {
            color: var(--cyber-green);
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 20px;
            text-align: center;
        }

        .section-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }

        .world-section {
            background: rgba(0, 0, 0, 0.5);
            border: 1px solid var(--cyber-green);
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            transition: all 0.3s;
            cursor: pointer;
        }

        .world-section:hover {
            background: rgba(0, 255, 136, 0.1);
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(0, 255, 136, 0.3);
        }

        .section-icon {
            font-size: 2rem;
            margin-bottom: 10px;
            display: block;
        }

        .section-name {
            color: var(--cyber-green);
            font-weight: bold;
            margin-bottom: 5px;
        }

        .section-value {
            color: var(--gold-primary);
            font-size: 1.1rem;
            font-weight: bold;
        }

        /* Status Messages */
        .status-message {
            background: rgba(0, 0, 0, 0.8);
            border-left: 4px solid var(--gold-primary);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: var(--gold-light);
            display: none;
        }

        .status-message.active {
            display: block;
            animation: slideIn 0.3s ease-out;
        }

        .status-message.error {
            border-left-color: var(--cyber-pink);
            color: #ffaaaa;
        }

        .status-message.success {
            border-left-color: var(--cyber-green);
            color: #aaffaa;
        }

        /* File input styling */
        .file-input {
            display: none;
        }

        /* Progress indicator */
        .progress-bar {
            width: 100%;
            height: 6px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 3px;
            overflow: hidden;
            margin: 15px 0;
            display: none;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--gold-primary), var(--cyber-cyan), var(--cyber-green));
            width: 0%;
            transition: width 0.3s ease;
            animation: progressShimmer 2s linear infinite;
        }

        @keyframes progressShimmer {
            0% { background-position: -200px 0; }
            100% { background-position: 200px 0; }
        }

        .progress-bar.active {
            display: block;
        }

        /* Generate AI World Button */
        .generate-button {
            width: 100%;
            background: linear-gradient(45deg, var(--cyber-green), var(--cyber-cyan));
            border: none;
            border-radius: 12px;
            padding: 15px;
            font-size: 1.1rem;
            font-weight: bold;
            color: #000;
            cursor: pointer;
            transition: all 0.3s;
            margin-top: 20px;
            font-family: 'Orbitron', monospace;
            display: none;
        }

        .generate-button.active {
            display: block;
        }

        .generate-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 0 25px rgba(0, 255, 136, 0.6);
        }
    </style>
</head>
<body>
    <div class="scanner-container">
        <!-- Header -->
        <div class="scanner-header">
            <h1 class="scanner-title">üî¨ LASER DOCUMENT SCANNER</h1>
            <p class="scanner-subtitle">Transform any document into an interactive AI exploration world</p>
        </div>

        <!-- Main Scanning Area -->
        <div class="scan-area">
            <!-- Document Drop Zone -->
            <div class="document-zone" onclick="triggerFileUpload()">
                <div class="laser-scanner">
                    <div class="laser-beam"></div>
                    <div class="scan-grid"></div>
                </div>
                
                <span class="upload-icon">üìÑ</span>
                <div class="upload-text">Drop document here or click to upload</div>
                <div class="upload-subtext">Supports PDF, PNG, JPG, DOCX ‚Ä¢ Max 10MB</div>
                
                <input type="file" class="file-input" id="fileInput" accept=".pdf,.png,.jpg,.jpeg,.docx,.txt" onchange="handleFileUpload(event)">
            </div>

            <!-- Control Panel -->
            <div class="control-panel">
                <h3 class="panel-title">üéõÔ∏è SCANNING PARAMETERS</h3>
                
                <div class="control-group">
                    <label class="control-label">Scan Quality</label>
                    <select class="control-input" id="scanQuality">
                        <option value="high">High Quality (Slower)</option>
                        <option value="medium" selected>Medium Quality</option>
                        <option value="fast">Fast Scan</option>
                    </select>
                </div>

                <div class="control-group">
                    <label class="control-label">AI World Complexity</label>
                    <select class="control-input" id="worldComplexity">
                        <option value="simple">Simple (5-10 sections)</option>
                        <option value="medium" selected>Medium (10-20 sections)</option>
                        <option value="complex">Complex (20+ sections)</option>
                    </select>
                </div>

                <div class="control-group">
                    <label class="control-label">Language Detection</label>
                    <select class="control-input" id="language">
                        <option value="auto">Auto-detect</option>
                        <option value="eng">English</option>
                        <option value="spa">Spanish</option>
                        <option value="fra">French</option>
                        <option value="deu">German</option>
                    </select>
                </div>

                <div class="control-group">
                    <label class="control-label">Theme</label>
                    <select class="control-input" id="theme">
                        <option value="cyber-gold">Cyber Gold (Premium)</option>
                        <option value="classic">Classic Cyan</option>
                        <option value="nature">Nature Green</option>
                        <option value="sunset">Sunset Orange</option>
                    </select>
                </div>

                <button class="scan-button" id="scanButton" onclick="startScanning()" disabled>
                    üîç START LASER SCAN
                </button>

                <button class="generate-button" id="generateButton" onclick="generateAIWorld()">
                    üåç GENERATE AI WORLD
                </button>
            </div>
        </div>

        <!-- Progress Bar -->
        <div class="progress-bar" id="progressBar">
            <div class="progress-fill" id="progressFill"></div>
        </div>

        <!-- Status Messages -->
        <div class="status-message" id="statusMessage"></div>

        <!-- Results Panel -->
        <div class="results-panel" id="resultsPanel">
            <h3 class="results-title">üìä SCAN RESULTS</h3>
            
            <div class="results-grid">
                <div class="result-item">
                    <div class="result-label">Document Type</div>
                    <div class="result-value" id="documentType">-</div>
                </div>
                <div class="result-item">
                    <div class="result-label">Pages Processed</div>
                    <div class="result-value" id="pagesProcessed">-</div>
                </div>
                <div class="result-item">
                    <div class="result-label">Words Extracted</div>
                    <div class="result-value" id="wordsExtracted">-</div>
                </div>
                <div class="result-item">
                    <div class="result-label">Confidence Score</div>
                    <div class="result-value" id="confidenceScore">-</div>
                </div>
            </div>

            <h4 style="color: var(--gold-primary); margin: 20px 0 10px 0;">üìù Extracted Text Preview</h4>
            <div class="extracted-text" id="extractedText">Scan a document to see extracted text...</div>
        </div>

        <!-- Generated World Preview -->
        <div class="world-preview" id="worldPreview">
            <h3 class="world-title">üåç GENERATED AI WORLD SECTIONS</h3>
            <div class="section-grid" id="sectionGrid"></div>
        </div>
    </div>

    <script>
        class LaserDocumentScanner {
            constructor() {
                this.currentFile = null;
                this.extractedText = '';
                this.documentAnalysis = null;
                this.generatedSections = [];
                
                this.scanningEffects = {
                    laserBeam: false,
                    scanGrid: false
                };
                
                console.log('üî¨ Laser Document Scanner initialized');
            }
            
            triggerFileUpload() {
                document.getElementById('fileInput').click();
            }
            
            handleFileUpload(event) {
                const file = event.target.files[0];
                if (!file) return;
                
                this.currentFile = file;
                this.updateUI();
                this.showStatus(`Selected: ${file.name}`, 'success');
                
                // Enable scan button
                document.getElementById('scanButton').disabled = false;
                
                // Update document zone
                const zone = document.querySelector('.document-zone');
                zone.innerHTML = `
                    <div class="laser-scanner">
                        <div class="laser-beam"></div>
                        <div class="scan-grid"></div>
                    </div>
                    <span class="upload-icon">üìÑ</span>
                    <div class="upload-text">${file.name}</div>
                    <div class="upload-subtext">Ready for laser scanning ‚Ä¢ ${this.formatFileSize(file.size)}</div>
                `;
            }
            
            async startScanning() {
                if (!this.currentFile) return;
                
                // Update UI for scanning state
                document.getElementById('scanButton').disabled = true;
                document.querySelector('.document-zone').classList.add('scanning');
                this.showProgress(true);
                this.showStatus('Initializing laser scanning systems...', 'info');
                
                // Start visual effects
                this.startScanningEffects();
                
                try {
                    // Simulate scanning process with real document processing
                    await this.performDocumentScan();
                    
                    this.showStatus('Document successfully scanned and processed!', 'success');
                    this.showResults();
                    
                } catch (error) {
                    this.showStatus('Scanning failed: ' + error.message, 'error');
                } finally {
                    // Reset UI
                    document.getElementById('scanButton').disabled = false;
                    document.querySelector('.document-zone').classList.remove('scanning');
                    this.stopScanningEffects();
                    this.showProgress(false);
                }
            }
            
            async performDocumentScan() {
                // Phase 1: File reading
                this.updateProgress(20, 'Reading document file...');
                await this.delay(1000);
                
                // Phase 2: OCR Processing (simulated)
                this.updateProgress(40, 'Performing optical character recognition...');
                const extractedText = await this.simulateOCR();
                await this.delay(1500);
                
                // Phase 3: Document analysis
                this.updateProgress(60, 'Analyzing document structure...');
                const analysis = await this.analyzeDocument(extractedText);
                await this.delay(1000);
                
                // Phase 4: AI processing
                this.updateProgress(80, 'Generating AI world sections...');
                const sections = await this.generateWorldSections(extractedText, analysis);
                await this.delay(1000);
                
                // Phase 5: Complete
                this.updateProgress(100, 'Scan complete!');
                await this.delay(500);
                
                // Store results
                this.extractedText = extractedText;
                this.documentAnalysis = analysis;
                this.generatedSections = sections;
            }
            
            async simulateOCR() {
                // Simulate OCR based on file type
                const fileType = this.currentFile.type;
                let extractedText = '';
                
                if (fileType.includes('text')) {
                    // Read text file
                    extractedText = await this.readTextFile(this.currentFile);
                } else if (fileType.includes('pdf')) {
                    // Simulate PDF text extraction
                    extractedText = this.generateSamplePDFText();
                } else if (fileType.includes('image')) {
                    // Simulate image OCR
                    extractedText = this.generateSampleImageText();
                } else {
                    // Default text
                    extractedText = this.generateSampleText();
                }
                
                return extractedText;
            }
            
            async readTextFile(file) {
                return new Promise((resolve, reject) => {
                    const reader = new FileReader();
                    reader.onload = e => resolve(e.target.result);
                    reader.onerror = reject;
                    reader.readAsText(file);
                });
            }
            
            generateSamplePDFText() {
                return `BUSINESS PLAN: AI-Powered Education Platform

Executive Summary:
Our revolutionary AI education platform transforms traditional learning through personalized, adaptive content delivery. Using advanced machine learning algorithms, we create unique learning experiences tailored to individual student needs.

Market Opportunity:
The global e-learning market is projected to reach $350 billion by 2025. Our target demographic includes K-12 students, university learners, and professional development seekers.

Product Features:
- Adaptive learning algorithms
- Real-time progress tracking
- Interactive multimedia content
- AI tutoring assistants
- Gamified learning experiences
- Parent/teacher dashboards

Technology Stack:
- Machine Learning: TensorFlow, PyTorch
- Backend: Node.js, Python
- Frontend: React, Vue.js
- Database: PostgreSQL, MongoDB
- Cloud: AWS, Google Cloud

Financial Projections:
Year 1: $500K revenue, 1,000 users
Year 2: $2M revenue, 10,000 users
Year 3: $8M revenue, 50,000 users

Funding Requirements:
Seeking $2M Series A funding for product development, team expansion, and market penetration.`;
            }
            
            generateSampleImageText() {
                return `TECHNICAL SPECIFICATION DOCUMENT

System Architecture Overview:
This document outlines the technical specifications for a distributed AI processing system designed for real-time data analysis and visualization.

Core Components:
1. Data Ingestion Layer
   - Real-time streaming APIs
   - Batch processing pipelines
   - Data validation and cleansing

2. AI Processing Engine
   - Neural network inference
   - Natural language processing
   - Computer vision modules

3. Visualization Dashboard
   - Interactive charts and graphs
   - Real-time monitoring displays
   - Custom reporting tools

Performance Requirements:
- Latency: <100ms for real-time queries
- Throughput: 10,000 requests/second
- Availability: 99.9% uptime
- Scalability: Auto-scaling based on demand

Security Measures:
- End-to-end encryption
- Multi-factor authentication
- Regular security audits
- Compliance with GDPR, CCPA`;
            }
            
            generateSampleText() {
                return `PROJECT PROPOSAL: Advanced Document Processing System

Overview:
This project aims to develop a comprehensive document processing system that utilizes cutting-edge AI technologies to extract, analyze, and transform various document formats into actionable insights.

Key Features:
- Multi-format document support (PDF, DOCX, images)
- Optical Character Recognition (OCR)
- Natural Language Processing (NLP)
- Automated content categorization
- Interactive visualization generation

Technical Approach:
The system will employ a microservices architecture with the following components:
- Document ingestion service
- OCR processing engine
- NLP analysis module
- Visualization generator
- API gateway and authentication

Expected Outcomes:
- 95% accuracy in text extraction
- 80% improvement in processing speed
- Automated generation of interactive content
- Reduced manual document processing time by 70%

Timeline:
Phase 1: Core development (3 months)
Phase 2: Testing and optimization (2 months)
Phase 3: Deployment and training (1 month)`;
            }
            
            async analyzeDocument(text) {
                // Simulate AI document analysis
                const wordCount = text.split(/\s+/).length;
                const pageCount = Math.ceil(wordCount / 250); // ~250 words per page
                
                // Determine document type based on content
                let documentType = 'General Document';
                if (text.toLowerCase().includes('business plan')) {
                    documentType = 'Business Plan';
                } else if (text.toLowerCase().includes('technical specification')) {
                    documentType = 'Technical Specification';
                } else if (text.toLowerCase().includes('project proposal')) {
                    documentType = 'Project Proposal';
                } else if (text.toLowerCase().includes('contract') || text.toLowerCase().includes('agreement')) {
                    documentType = 'Legal Document';
                }
                
                // Calculate confidence score
                const confidenceScore = Math.min(95, 60 + (wordCount / 100));
                
                return {
                    documentType,
                    pageCount,
                    wordCount,
                    confidenceScore: Math.round(confidenceScore),
                    extractedAt: new Date().toISOString()
                };
            }
            
            async generateWorldSections(text, analysis) {
                const complexity = document.getElementById('worldComplexity').value;
                let sectionCount;
                
                switch (complexity) {
                    case 'simple': sectionCount = Math.min(8, Math.max(5, Math.floor(analysis.wordCount / 100))); break;
                    case 'medium': sectionCount = Math.min(20, Math.max(10, Math.floor(analysis.wordCount / 80))); break;
                    case 'complex': sectionCount = Math.min(30, Math.max(20, Math.floor(analysis.wordCount / 60))); break;
                }
                
                const sections = [];
                const icons = ['üè¢', 'üìä', 'üí°', 'üéØ', 'üîß', 'üìà', 'üåü', '‚ö°', 'üîç', 'üõ°Ô∏è', 'üöÄ', 'üíé', 'üé®', 'üìù', 'üé™', 'üîÆ', 'üèÜ', 'üì±', 'üí∞', 'üåê'];
                const baseNames = [
                    'Innovation Hub', 'Analytics Center', 'Strategy Core', 'Development Lab',
                    'Research Station', 'Implementation Zone', 'Quality Assurance', 'Performance Center',
                    'Technology Stack', 'Security Vault', 'Launch Pad', 'Premium Features',
                    'Creative Studio', 'Documentation Center', 'User Experience', 'Future Vision',
                    'Achievement Center', 'Mobile Platform', 'Revenue Engine', 'Global Network'
                ];
                
                // Extract key concepts from document for section names
                const words = text.toLowerCase().split(/\s+/);
                const keyWords = words.filter(word => 
                    word.length > 4 && 
                    !['the', 'and', 'for', 'are', 'but', 'not', 'you', 'all', 'can', 'had', 'her', 'was', 'one', 'our', 'out', 'day', 'get', 'has', 'him', 'his', 'how', 'its', 'may', 'new', 'now', 'old', 'see', 'two', 'way', 'who', 'boy', 'did', 'man', 'end', 'why', 'let', 'put', 'say', 'she', 'too', 'use'].includes(word)
                );
                
                for (let i = 0; i < sectionCount; i++) {
                    const icon = icons[i % icons.length];
                    let name = baseNames[i % baseNames.length];
                    
                    // Try to use relevant keywords from document
                    if (keyWords.length > i) {
                        const keyword = keyWords[i];
                        name = this.capitalizeWords(keyword) + ' ' + name.split(' ')[1];
                    }
                    
                    const value = Math.floor(Math.random() * 200) + 50; // $50-$250
                    
                    sections.push({
                        id: i,
                        icon,
                        name,
                        value,
                        x: (i % 5) * 150 + 100,
                        y: Math.floor(i / 5) * 120 + 100
                    });
                }
                
                return sections;
            }
            
            capitalizeWords(str) {
                return str.replace(/\b\w/g, l => l.toUpperCase());
            }
            
            showResults() {
                const panel = document.getElementById('resultsPanel');
                panel.classList.add('active');
                
                // Update result values
                document.getElementById('documentType').textContent = this.documentAnalysis.documentType;
                document.getElementById('pagesProcessed').textContent = this.documentAnalysis.pageCount;
                document.getElementById('wordsExtracted').textContent = this.documentAnalysis.wordCount.toLocaleString();
                document.getElementById('confidenceScore').textContent = this.documentAnalysis.confidenceScore + '%';
                
                // Show text preview
                const preview = this.extractedText.substring(0, 500) + (this.extractedText.length > 500 ? '...' : '');
                document.getElementById('extractedText').textContent = preview;
                
                // Show generate button
                document.getElementById('generateButton').classList.add('active');
            }
            
            generateAIWorld() {
                const worldPreview = document.getElementById('worldPreview');
                const sectionGrid = document.getElementById('sectionGrid');
                
                // Clear existing sections
                sectionGrid.innerHTML = '';
                
                // Create section elements
                this.generatedSections.forEach(section => {
                    const element = document.createElement('div');
                    element.className = 'world-section';
                    element.innerHTML = `
                        <span class="section-icon">${section.icon}</span>
                        <div class="section-name">${section.name}</div>
                        <div class="section-value">$${section.value}</div>
                    `;
                    
                    element.onclick = () => this.launchAIExplorer(section);
                    sectionGrid.appendChild(element);
                });
                
                worldPreview.classList.add('active');
                this.showStatus(`Generated ${this.generatedSections.length} AI world sections from your document!`, 'success');
            }
            
            launchAIExplorer(section) {
                // Create data for AI Explorer
                const explorerData = {
                    sections: this.generatedSections,
                    sourceDocument: this.currentFile.name,
                    extractedText: this.extractedText,
                    analysis: this.documentAnalysis,
                    selectedSection: section
                };
                
                // Store in localStorage for AI Explorer to access
                localStorage.setItem('aiExplorerData', JSON.stringify(explorerData));
                
                // Open AI Explorer in new window
                window.open('AI-AUTONOMOUS-EXPLORER.html', '_blank');
            }
            
            // UI Helper Methods
            startScanningEffects() {
                document.querySelector('.laser-beam').classList.add('active');
                document.querySelector('.scan-grid').classList.add('active');
            }
            
            stopScanningEffects() {
                document.querySelector('.laser-beam').classList.remove('active');
                document.querySelector('.scan-grid').classList.remove('active');
            }
            
            showProgress(show) {
                const progressBar = document.getElementById('progressBar');
                progressBar.classList.toggle('active', show);
                if (!show) {
                    document.getElementById('progressFill').style.width = '0%';
                }
            }
            
            updateProgress(percent, message) {
                document.getElementById('progressFill').style.width = percent + '%';
                if (message) {
                    this.showStatus(message, 'info');
                }
            }
            
            showStatus(message, type = 'info') {
                const status = document.getElementById('statusMessage');
                status.textContent = message;
                status.className = `status-message active ${type}`;
                
                // Auto-hide after 5 seconds for non-error messages
                if (type !== 'error') {
                    setTimeout(() => {
                        status.classList.remove('active');
                    }, 5000);
                }
            }
            
            formatFileSize(bytes) {
                if (bytes === 0) return '0 Bytes';
                const k = 1024;
                const sizes = ['Bytes', 'KB', 'MB', 'GB'];
                const i = Math.floor(Math.log(bytes) / Math.log(k));
                return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
            }
            
            delay(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }
            
            updateUI() {
                // Update UI based on current state
                console.log('UI updated');
            }
        }
        
        // Global functions
        let scanner;
        
        function triggerFileUpload() {
            scanner.triggerFileUpload();
        }
        
        function handleFileUpload(event) {
            scanner.handleFileUpload(event);
        }
        
        function startScanning() {
            scanner.startScanning();
        }
        
        function generateAIWorld() {
            scanner.generateAIWorld();
        }
        
        // Initialize scanner
        window.addEventListener('load', () => {
            scanner = new LaserDocumentScanner();
        });
        
        // Drag and drop support
        document.addEventListener('DOMContentLoaded', () => {
            const dropZone = document.querySelector('.document-zone');
            
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                dropZone.addEventListener(eventName, preventDefaults, false);
            });
            
            function preventDefaults(e) {
                e.preventDefault();
                e.stopPropagation();
            }
            
            ['dragenter', 'dragover'].forEach(eventName => {
                dropZone.addEventListener(eventName, highlight, false);
            });
            
            ['dragleave', 'drop'].forEach(eventName => {
                dropZone.addEventListener(eventName, unhighlight, false);
            });
            
            function highlight() {
                dropZone.style.background = 'linear-gradient(135deg, #2a2a1a, #3a3a2a)';
                dropZone.style.borderColor = 'var(--gold-accent)';
            }
            
            function unhighlight() {
                dropZone.style.background = 'linear-gradient(135deg, #1a1a1a, #2a2a2a)';
                dropZone.style.borderColor = 'var(--gold-primary)';
            }
            
            dropZone.addEventListener('drop', handleDrop, false);
            
            function handleDrop(e) {
                const dt = e.dataTransfer;
                const files = dt.files;
                
                if (files.length > 0) {
                    document.getElementById('fileInput').files = files;
                    scanner.handleFileUpload({ target: { files: files } });
                }
            }
        });
        
        console.log('üî¨ Laser Document Scanner ready!');
        console.log('üìÑ Drop any document to transform it into an AI world!');
    </script>
</body>
</html>