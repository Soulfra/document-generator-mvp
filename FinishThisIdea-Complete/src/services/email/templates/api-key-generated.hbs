{{#> layout title="New API Key Generated"}}
  <table role="presentation" cellpadding="0" cellspacing="0" width="100%" style="margin: 0 auto;">
    <tr>
      <td align="center" style="padding: 40px 0;">
        <div style="background: #17a2b8; width: 80px; height: 80px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center;">
          <span style="font-size: 40px;">üîë</span>
        </div>
      </td>
    </tr>
    
    <tr>
      <td align="center" style="padding: 0 20px 30px;">
        <h1 style="margin: 0 0 10px; font-size: 28px; font-weight: 600; color: #1a1a1a;">
          API Key Generated
        </h1>
        <p style="margin: 0; font-size: 16px; color: #666;">
          Your new API key is ready to use.
        </p>
      </td>
    </tr>

    <tr>
      <td style="padding: 0 20px;">
        <div style="background: #fff3cd; border: 1px solid #ffeaa7; border-radius: 8px; padding: 25px; margin-bottom: 30px;">
          <h3 style="margin: 0 0 15px; font-size: 18px; font-weight: 600; color: #856404;">
            üîê Important: Save Your Key
          </h3>
          <p style="margin: 0 0 15px; font-size: 14px; color: #856404;">
            This is the only time you'll see this key. Please save it securely.
          </p>
          <div style="background: #f8f9fa; border: 1px solid #dee2e6; border-radius: 4px; padding: 15px; margin-bottom: 15px;">
            <code style="display: block; font-family: 'Courier New', monospace; font-size: 14px; word-break: break-all; color: #212529;">
              {{apiKey}}
            </code>
          </div>
          <button onclick="navigator.clipboard.writeText('{{apiKey}}')" style="background: #6c757d; color: white; border: none; padding: 8px 16px; border-radius: 4px; cursor: pointer; font-size: 14px;">
            üìã Copy to Clipboard
          </button>
        </div>
      </td>
    </tr>

    <tr>
      <td style="padding: 0 20px;">
        <div style="background: #f8f9fa; border-radius: 8px; padding: 25px; margin-bottom: 30px;">
          <h3 style="margin: 0 0 20px; font-size: 18px; font-weight: 600; color: #1a1a1a;">
            API Key Details
          </h3>
          
          <table width="100%" cellpadding="0" cellspacing="0">
            <tr>
              <td style="padding: 10px 0; border-bottom: 1px solid #e0e0e0;">
                <strong>Key Name:</strong>
              </td>
              <td align="right" style="padding: 10px 0; border-bottom: 1px solid #e0e0e0;">
                {{keyName}}
              </td>
            </tr>
            <tr>
              <td style="padding: 10px 0; border-bottom: 1px solid #e0e0e0;">
                <strong>Tier:</strong>
              </td>
              <td align="right" style="padding: 10px 0; border-bottom: 1px solid #e0e0e0;">
                {{tier}}
              </td>
            </tr>
            <tr>
              <td style="padding: 10px 0; border-bottom: 1px solid #e0e0e0;">
                <strong>Rate Limit:</strong>
              </td>
              <td align="right" style="padding: 10px 0; border-bottom: 1px solid #e0e0e0;">
                {{rateLimit}} requests/hour
              </td>
            </tr>
            <tr>
              <td style="padding: 10px 0;">
                <strong>Expires:</strong>
              </td>
              <td align="right" style="padding: 10px 0;">
                {{#if expiresAt}}{{expiresAt}}{{else}}Never{{/if}}
              </td>
            </tr>
          </table>
        </div>
      </td>
    </tr>

    <tr>
      <td style="padding: 0 20px;">
        <div style="background: #e7f5ff; border: 1px solid #74c0fc; border-radius: 8px; padding: 20px; margin-bottom: 30px;">
          <h4 style="margin: 0 0 15px; font-size: 16px; font-weight: 600; color: #1864ab;">
            Quick Start
          </h4>
          <p style="margin: 0 0 15px; font-size: 14px; color: #495057;">
            Here's how to use your API key:
          </p>
          <pre style="background: #f1f3f5; border-radius: 4px; padding: 15px; overflow-x: auto; margin: 0;">
<code style="font-family: 'Courier New', monospace; font-size: 13px; color: #212529;">// Using Authorization header
const response = await fetch('{{apiUrl}}/ai/analyze', {
  headers: {
    'Authorization': 'Bearer {{apiKey}}',
    'Content-Type': 'application/json'
  },
  method: 'POST',
  body: JSON.stringify({
    code: 'your code here',
    language: 'javascript'
  })
});

// Or using x-api-key header
const response = await fetch('{{apiUrl}}/ai/analyze', {
  headers: {
    'x-api-key': '{{apiKey}}',
    'Content-Type': 'application/json'
  }
});</code></pre>
        </div>
      </td>
    </tr>

    <tr>
      <td align="center" style="padding: 0 20px 40px;">
        <a href="{{docsUrl}}" style="display: inline-block; background: #007bff; color: white; text-decoration: none; padding: 14px 32px; border-radius: 8px; font-weight: 600; font-size: 16px; margin-right: 10px;">
          View API Docs
        </a>
        <a href="{{dashboardUrl}}" style="display: inline-block; background: #6c757d; color: white; text-decoration: none; padding: 14px 32px; border-radius: 8px; font-weight: 600; font-size: 16px;">
          Manage Keys
        </a>
      </td>
    </tr>

    <tr>
      <td style="padding: 0 20px 40px;">
        <div style="background: #f8f9fa; border-radius: 8px; padding: 20px;">
          <h4 style="margin: 0 0 10px; font-size: 16px; font-weight: 600; color: #1a1a1a;">
            Security Best Practices
          </h4>
          <ul style="margin: 0; padding: 0 0 0 20px; font-size: 14px; color: #666;">
            <li style="margin-bottom: 8px;">Never commit API keys to version control</li>
            <li style="margin-bottom: 8px;">Use environment variables to store keys</li>
            <li style="margin-bottom: 8px;">Rotate keys regularly</li>
            <li style="margin-bottom: 8px;">Use different keys for different environments</li>
            <li>Monitor key usage in your dashboard</li>
          </ul>
        </div>
      </td>
    </tr>
  </table>
{{/layout}}